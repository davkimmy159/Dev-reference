이터레이터 · 제너레이터
========================

## 이터러블 <sub>(객체)</sub>

##### `[Symbol.iterator]` <sub>(메서드)</sub> 구현
- 일부 내장 타입 이미 구현
  - `Array`
  - `Map`
  - `Set`
  - `String`
  - `Int32Array`
  - `Uint32Array`
  - 기타 등등
- 값 목록 반환
  - 순회 용도

### `Iterable` <sub>(인터페이스)</sub>

##### 이터러블 <sub>(객체)</sub> 참조 가능
- 순회 동작 수행
```ts
function toArray<X>(xs: Iterable<X>): X[] {
  return [...xs]
}
```

### `for…of` <sub>(문)</sub>

##### 이터러블 <sub>(객체)</sub> 순회
- `[Symbol.iterator]` <sub>(메서드)</sub> 호출
```ts
let someArray = [1, "string", false];

for (let entry of someArray) {

  // 1, "string", false
  console.log(entry);
}
```

### `for…of` vs `for…in` <sub>(문)</sub>

##### 차이점 ①
- `for…of`
  - 값 목록 반환
    - 숫자형 프로퍼티
- `for…in`
  - 키 목록 반환
```ts
let list = [4, 5, 6];

for (let i in list) {

  // "0", "1", "2",
  console.log(i);
}

for (let i of list) {

  // 4, 5, 6
  console.log(i);
}
```

##### 차이점 ②
- `for…of`
  - `[Symbol.iterator]` <sub>(메서드)</sub> 구현
  - 이터러블 <sub>(객체)</sub> 내 값 대상 작업
- `for…in`
  - 모든 객체 동작
  - 객체 내 프로퍼티 검사
- Another distinction is that `for…in` operates on any object; it serves as a way to inspect properties on this object. `for…of` on the other hand, is mainly interested in values of iterable objects. Built-in objects like `Map` and `Set` implement `Symbol.iterator` property allowing access to stored values.
```ts
let pets = new Set(["Cat", "Dog", "Hamster"]);
pets["species"] = "mammals";

for (let pet in pets) {
  console.log(pet); // "species"
}

for (let pet of pets) {
  console.log(pet); // "Cat", "Dog", "Hamster"
}
```

## Code generation

#### Targeting ES5 and ES3
When targeting an ES5 or ES3-compliant engine, iterators are only allowed on values of `Array` type. It is an error to use `for…of` loops on non-Array values, even if these non-Array values implement the `Symbol.iterator` property.

The compiler will generate a simple `for` loop for a `for…of` loop, for instance:
```ts
let numbers = [1, 2, 3];
for (let num of numbers) {
  console.log(num);
}
```

will be generated as:
```ts
var numbers = [1, 2, 3];
for (var _i = 0; _i < numbers.length; _i++) {
  var num = numbers[_i];
  console.log(num);
}
```

#### Targeting ECMAScript 2015 and higher
When targeting an ECMAScript 2015-compliant engine, the compiler will generate `for…of` loops to target the built-in iterator implementation in the engine.
