엄격모드
============

- ES5 변경사항 적용 <sub>(모던 자바스크립트)</sub>

### `"use strict"`
- 단순 문자열 모양
- 스크립트 최상단 위치
  - 스크립트 전체 '모던한' 방식 <sub>(엄격 모드)</sub> 동작
- 함수 본문 맨 앞 위치
  - 해당 함수만 엄격 모드

<img src="./images/commons/icons/triangle-exclamation-solid.svg" /> **`use strict` 반드시 최상단 위치 X**

- 다른 위치
  - 엄격 모드 활성화 X
- `use strict` 위
  - 주석만 사용 가능

<img src="./images/commons/icons/triangle-exclamation-solid.svg" /> **`use strict` 취소 방법 X**

- 자바스크립트 엔진 이전 방식으로 되돌리는 지시자 미존재
- 엄격 모드 적용 시 돌이킬 방법 X


### 브라우저 콘솔
- 기본적으로 `"use strict"` 적용 X
  - 적용 시 최상단 `"use strict"` 입력

### `use strict` 사용 필수?
- 클래스 · 모듈 사용 시 `"use strict"` 생략 가능

<br />

변수와 상수
==========

```javascript
let m1;
m1 = 'Hello!';
let m2 = 'Hello!';

// (권장 X)
let m3 = 'John', m4 = 25, m5 = 'Hello';

// (권장)
let m6 = 'John';
let m7 = 25;
let m8 = 'Hello';

// (취향)
let m9 = 'John',
  m10 = 25,
  m11 = 'Hello';
let m12 = 'John'
  , m13 = 25
  , m14 = 'Hello';
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **`let` 대신 `var`**

- 오래된 스크립트 `let` 대신 `var` 키워드 종종 발견
```javascript
var message = 'Hello';
```
- 거의 동일 동작
- `var`
  - '오래된' 방식
  - 사용 권장 X

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **변수 두 번 선언 : 에러 발생**

- 변수 한 번만 선언
- 같은 변수 여러 번 선언 시 에러 발생
```javascript
let message = "This";

// let 반복 시 에러 발생
let message = "That"; // SyntaxError: 'message' has already been declared
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **함수형 언어**

- 변숫값 변경 금지
  - 스칼라 <sub>(Scala)</sub>
  - 얼랭 <sub>(Erlang)</sub>
  - 기타 등등
- 일단 저장되면 값 영원히 유지
  - 다른 값 저장 시 새 변수 선언
  - 이전 변수 재사용 x
- 중대한 개발 적합한 언어
  - 병렬 계산에 제약 장점 작용

### 변수 명명 규칙
변수명 가능 글자
- 문자
- 숫자
- $
- _

첫 글자 숫자 X

### 잘못된 변수명 예시
```javascript
let 1a;      // 숫자 시작
let my-name; // '-' 사용
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **대 · 소문자 구별**

- apple ≠ AppLE

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **비 라틴계 언어 사용 가능 (권장 X)**

- 영어 변수명 사용
  - 국제적 관습
```javascript
let имя = '…';
let 我 = '…';
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **예약어**

- 예약어 목록 단어 변수명 사용 X
  - 자바스크립트 내부 이미 사용 중
    - `let`
    - `class`
    - `return`
    - `function`
    - 기타 등등
```javascript
let let = 5;    // 'let'   변수명 사용 X
let return = 5; // 'return'변수명 사용 X
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **`"use strict"` 없이 변수 할당**

- 과거 `let` 없이 값 할당해 변수 생성 가능
  - 과거 스크립트 호환성
  - 나쁜 관습

### 상수
- `const`
- 변하지 않는 변수 선언
```javascript
const m1 = '18.04.1982';
```

### 대문자 상수
- 대문자 · 밑줄
  - 기억 용이
  - 오타 확률 ↓
  - 가독성 ↑
```javascript
const COLOR_ORANGE = "#FF7F00";
let color = COLOR_ORANGE;
```

### 바람직한 변수명
- 읽을 수 있는 이름
- 줄임말 · 짧은 이름 X
- 최대한 서술적 · 간결

<br />

자료형
=====

- 동적 타입
  - 변수는 자료형 관계없이 모든 데이터일 수 있음
  - 어떤 순간에 문자열 · 다른 순간엔 숫자
```javascript
// no error
let message = "hello";
message = 123456;
```

### 숫자형
- 정수 · 부동소수점 숫자
```javascript
let n = 123;
n = 12.345;
```
#### Infinity
- 무한대 <sub>(∞)</sub>
- 어느 숫자든 0 으로 나누면 무한대
```javascript
alert( 1 / 0 ); // 무한대
```
- `Infinity` 직접 참조
```javascript
alert(Infinity); // 무한대
```
#### `NaN`
- 계산 중 에러 발생
  - 부정확 · 미정의 수학 연산
  - `NaN` 반환
- 여간해선 값 안바뀜
```javascript
alert( "숫자가 아님" / 2 ); // NaN, 문자열 나누기 숫자
```
- `NaN` 에 어떤 추가 연산
  - `NaN` 반환
```javascript
alert( "숫자가 아님" / 2 + 5 ); // NaN
```
- 연산 과정 어디선가 `NaN` 반환 시 모든 결과에 영향

<img src="./images/commons/icons/circle-exclamation-solid.svg" /> **수학 연산 : 안전**

- 자바스크립트 내 행해지는 수학 연산 '안전'
- 이례적인 연산 자바스크립트 가능
  - 0 으로 나누기
  - 비숫자 <sub>(문자열)</sub> → 숫자 취급
  - 기타 등등
- 불가능 연산 실행 시 에러 X
  - `NaN` 반환 · 종료

#### BigInt
일정 범위 이상 숫자형 사용 불가
- 내부 표현 방식 문제
- n <sub>(정수)</sub> >  &nbsp;(2<sup>53</sup>-1)<sub>(9007199254740991)</sub>
- n <sub>정수</sub> < -(2<sup>53</sup>-1)
- 용도
  - 아주 큰 숫자 필요한 상황
    - ex&#41; 암호 관련 작업
  - 아주 높은 정밀도 작업
  - 길이 상관없이 정수 표현
  - 정수 리터럴 끝에 `n`
```javascript
// 끝에 'n' 붙으면 BigInt형 자료
const bigInt = 1234567890123456789012345678901234567890n;
```

### 문자형
- 따옴표

|종류|예시|
|---|---|
|큰따옴표|`"Hello"`|
|작은따옴표|`'Hello'`|
|백틱|``` `Hello` ```|

```javascript
let str1   = "Hello";
let str2   = 'Single quotes are ok too';
let phrase = `can embed another ${str}`;
```
- 큰따옴표 · 작은따옴표
  - 기본적인 따옴표
  - 차이 X
- 백틱 `${ … }`
  - 변수, 표현식
    - 무엇이든 가능
  - 평가 후 문자열 일부 구성
```javascript
let name = "John";

// 변수 문자열 중간에 삽입
alert( `Hello, ${name}!` ); // Hello, John!

// 표현식 문자열 중간에 삽입
alert( `the result is ${1 + 2}` ); // the result is 3
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **글자형 X**

- 글자 하나 저장
- 일부 언어 글자형 지원
  - C
  - Java
  - 기타 등등
- 자바스크립트 글자형 미지원
  - 문자형에 글자 하나 · 여러 개 들어감

### 불린형
- `true` · `false`
- 비교 결과 저장
```javascript
let isGreater = 4 > 1;
alert(isGreater); // true, 비교 결과: "yes"
```

### `null` 값
- `null` 값만 포함하는 별도 자료형 구성
```javascript
let age = null;
```

#### 타 언어 `null`
- 미존재 객체 참조
- 널 포인터 <sub>(null pointer)</sub>

#### 자바스크립트 `null`
- '존재하지 않는' <sub>(nothing)</sub>
- '비어 있는' 값 <sub>(empty)</sub>
- '알 수 없는' 값 <sub>(unknown)</sub>
```javascript
let age = null; // 나이 (age) 알 수 없음 · 값 비어있음
```

### `undefined` 값
- `undefined` 값만 포함하는 별도 자료형 구성
- 값 미할당 상태
- 변수 선언 후 값 미할당 시
  - `undefined` 자동 할당
```javascript
let age;
alert(age); // undefined
```
- 명시적 할당
```javascript
let age = 100;
age = undefined; // undefined 값 명시적으로 할당
alert(age);      // undefined
```
- `undefined` 직접 할당 권장 X
- '비어있는' · '알 수 없는' 상태 시
  - `null` 사용

### 객체, 심볼

#### 객체
- 데이터 컬렉션
- 복잡한 개체

#### 심볼
- 객체 고유 식별자

### typeof 연산자
- 인수 자료형 반환
- 형태
  - `typeof x` &nbsp;<sub>(연산자)</sub>
  - `typeof(x)` <sub>(함수)</sub>
```javascript
typeof 0            // "number"
typeof 10n          // "bigint"
typeof "foo"        // "string"
typeof true         // "boolean"
typeof Math         // "object"   - 내장 객체
typeof alert        // "function" - 함수형 미존재, 함수 == 객체형
                    //            - 하위 호환성 (언어 자체의 오류)
typeof Symbol("id") // "symbol"
typeof undefined    // "undefined"
typeof null         // "object"   - null ≠ object
                    //            - 하위 호환성 (언어 자체의 오류)
```

<br />

형변환
=====

### 문자형 변환
- 문자형 값 필요 시 자동 변환
- `String(value)`
```javascript
let value = true;
alert(typeof value);   // boolean

value = String(value); // 변수 value 문자열 "true" 저장
alert(typeof value);   // string
```

### 숫자형 변환
- 수학 관련 함수 · 표현식 <sub>(연산자 등)</sub> 자동 변환
```javascript
alert( "6" / "2" ); // 3, 문자열 → 숫자형 자동 변환 후 연산
```
- `Number(value)`
```javascript
let str = "123";
alert(typeof str);     // string

let num = Number(str); // 문자열 "123" → 숫자 123 변환
alert(typeof num);     // number
```
- 문자 기반 폼 통해 숫자형 값 입력받는 경우
  - 명시적 형 변환 필수
- 숫자 이외 글자 있는 문자열 → 숫자형 변환 시
  - `NaN`
```javascript
let age = Number("임의의 문자열 123");
alert(age); // NaN, 형 변환 실패
```
- 숫자형 변환 규칙

|값|형 변환 후|
|---|---|
|`undefined`|`NaN`|
|`null`|`0`|
|`true` · `false`|`1` · `0`|
|`string`| ① 문자열 처음 · 끝 공백 제거<br /> ② 공백 제거 후<br />　ⓐ 문자열 없으면 `0`<br />　ⓑ문자열에서 숫자 읽음<br /> ③ 변환 실패 시 : `NaN`|

```javascript
alert( Number("   123   ") ); // 123
alert( Number("123z") ); // NaN, "z" → 숫자 변환 실패
alert( Number(true) );   // 1
alert( Number(false) );  // 0
```
### 불린형 변환
- 논리 연산 수행 시 변환
- `Boolean(value)`
<br /><br />

- 불린형 변환 규칙

|값|형 변환 후|
|---|---|
|직관적으로 '비어있는' 값<br />- `0` <sub>(숫자)</sub><br /> - `""` <sub>(빈 문자열)</sub><br /> - `null` <br /> - `undefined`<br /> - `NaN` 등 |`false`|
|그 외 값|`true`|

```javascript
alert( Boolean(1) );       // 숫자 1      , true
alert( Boolean(0) );       // 숫자 0      , false
alert( Boolean("hello") ); // 문자열      , true
alert( Boolean("") );      // 빈 문자열 "", false
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **주의: `"0"` <sub>(문자열)</sub> == `true`**

- 자바스크립트
  - 비어있지 않은 문자열 언제나 `true`
- PHP 등 일부 언어
  - `"0"` <sub>(문자열)</sub> == `false`
```javascript
alert( Boolean("0") ); // true
alert( Boolean(" ") ); // 공백 있는 문자열 == 비어있지 않은 문자열
```

<br />

기본 연산자 · 수학
=================

- 피연산자 <sub>(operand)</sub>
  - 연산 수행 대상
  - ≒ 인수
- 단항 <sub>(unary)</sub>
  - 피연산자 1개 연산자
- 이항 <sub>(binary)</sub>
  - 피연산자 2개 연산자

### 수학 연산자

|부호|이름|
|---|---|
|`+`|덧셈 연산자|
|`-`|뺄셈 연산자|
|`*`|곱셈 연산자|
|`/`|나눗셈 연산자|
|`%`|나머지 연산자|
|`**`|거듭제곱 연산자|

### 나머지 연산자 `%`
- 나눈 후 나머지 정수 반환
```javascript
alert( 5 % 2 ); // 5 / 2 나머지 : 1
alert( 8 % 3 ); // 8 / 3 나머지 : 2
```

### 거듭제곱 연산자 `**`
- `a ** b`
- a를 b번 곱한 값
```javascript
alert( 2 ** 2 ); // 4  (2 * 2)
alert( 2 ** 3 ); // 8  (2 * 2 * 2)
alert( 2 ** 4 ); // 16 (2 * 2 * 2 * 2)
```
- 정수 아닌 숫자 가능
  - ex&#41; 제곱근
    - 분수 이용
```javascript
alert( 4 ** (1/2) ); // 2, 1/2 거듭제곱 : 제곱근
alert( 8 ** (1/3) ); // 2, 1/3 거듭제곱 : 세제곱근
```

### 이항 연산자 `+`
- 문자열 연결
- 피연산자로 문자열 전달 시 문자열 병합 <sub>(연결)</sub>
```javascript
let s = "my" + "string";
alert(s);             // mystring
alert( '1' + 2 );     // "12"
alert( 2 + '1' );     // "21"
alert( 2 + 2 + '1' ); // '41', 왼쪽 → 오른쪽 순차적 연산 진행
alert( 6 - '2' );     //  4  , 2' → 숫자 변환 후 연산
alert( '6' / '2' );   //  3  , 두 피연산자 → 숫자 변환 후 연산
```

### 단항 연산자 `+`
- 피연산자 숫자 아닌 경우 숫자형 변환
- `Number( … )` 동일
```javascript
// 숫자 영향 X
let x = 1;
alert( +x );    //  1
let y = -2;
alert( +y );    // -2

// 숫자형 아닌 피연산자 → 숫자형 변환
alert( +true ); //  1
alert( +"" );   //  0
```
- 연산 위해 `+` 로 피연산자 숫자형 간결하게 변환
```javascript
let apples = "2";
let oranges = "3";

// 이항 덧셈 연산자 적용 전 두 피연산자 → 숫자형 변환
alert( +apples + +oranges );               // 5
alert( Number(apples) + Number(oranges) ); // 5
```

### 연산자 우선순위

|순위|기호|연산자 이름|
|:---:|:---:|---|
|17|`+`|단항 덧셈|
|17|`-`|단항 부정|
|16|`**`|지수|
|15|`*`|곱셈|
|15|`/`|나눗셈|
|13|`+`|덧셈|
|13|`-`|뺄셈|
|…|…|…|
|3|`=`|할당|
|…|…|…|

### 할당 연산자 `=`
- `x = value`
  - `value` 값 `x` 에 값 쓰여진 후 `value` 반환
```javascript
let a = 1;
let b = 2;
let c = 3 - ( a = b + 1 ); // 비권장 트릭, 명확성 · 가독성 ↓
alert( a ); // 3, a = b + 1;
alert( c ); // 0
```

### 할당 연산자 `=` 체이닝
- 평가 우측부터 진행
- 모든 변수 단일 값 공유
- 비권장 <sub>(명확성 · 가독성 ↓)</sub>
```javascript
let a, b, c;

// 비권장
a = b = c = 2 + 2;
alert( a ); // 4
alert( b ); // 4
alert( c ); // 4

// 권장
c = 2 + 2;
b = c;
a = c;
```
### 복합 할당 연산자
```javascript
// 할당
let n = 2;
n = n + 5;
n = n * 2;

// 복합 할당
let m = 2;
m += 5; // 7 , m = m + 5
m *= 2; // 14, m = m * 2
```
- 산술 · 비트 연산자 적용
  - `/=` · `-=` 등
- 우선순위
  - 할당 연산자 동일
```javascript
let n = 2;
n *= 3 + 5; // '*=' 우측 먼저 평가
alert( n ); // 16
```

### 증가 · 감소 연산자 `++` · `--`
- 숫자 하나 증가 · 감소
```javascript
let counter = 2;
counter++; // 3, counter = counter + 1
let counter = 2;
counter--; // 1, counter = counter - 1
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **중요:**

- 변수에만 사용 가능
- 값에 사용 시 에러
  - ex&#41; `5++`

<br />

- 전위형 `++counter`
  - 증가 · 감소 후 새로운 값 반환
- 후위형 `counter++`
  - 증가 · 감소 후 기존 값 반환
```javascript
let counter = 0;
alert( ++counter ); // 1
let counter = 0;
alert( counter++ ); // 0
```
#### 타 연산자 vs 증가 · 감소 `++` · `--` 연산자
- `++` · `--` <sub>(증가 · 감소 연산자)</sub> 우선순위
  - 다른 대부분 산술 연산자보다 ↑
  - 평가 먼저 실행
- 타 연산자 함께 사용 시
  - 가독성 ↓
```javascript
// 비권장
let counter1 = 1;
alert( 2 * ++counter1 ); // 4
let counter2 = 1;
alert( 2 * counter2++ ); // 2, counter++ : 기존 값 반환

// 권장
let counter3 = 1;
alert( 2 * counter3 );
counter3++;
```

### 비트 연산자
- 32비트 정수 변환 후 이진 연산
- 저수준 <sub>(2진 표현)</sub> 연산

|부호|이름|
|---|---|
|`&`|비트 AND|
|`\|`|비트 OR|
|`^`|비트 XOR|
|`~`|비트 NOT|
|`<<`|왼쪽 시프트|
|`>>`|오른쪽 시프트|
|`>>>`|부호 없는 오른쪽 시프트|

### 쉼표 연산자 `,`
- 여러 표현식 코드 한 줄 평가
- 표현식 각각 모두 평가 후 마지막 표현식 평가 결과 반환
```javascript
let a = (1 + 2, 3 + 4);
alert( a ); // 7, 3 + 4 의 결과 (앞 결과 버려짐)
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **쉼표 우선순위 : 매우 ↓**

  - `=` <sub>(할당 연산자)</sub> 보다 더 ↓
  - 괄호 중요한 역할
- 괄호 없으면 가독성 ↓
```javascript
let a = 1 + 2, 3 + 4;
/*
 괄호 없이 진행 순서
 ① a = 3, 7
 ② a = 3
 ③ 7 무시
 */
alert( a ); // 3
```

<br />

- 사용처
  - 여러 동작 한 줄 처리
```javascript
// 한 줄 3개 연산 수행
for (a = 1, b = 3, c = a * b; a < 10; a++) {
  // …
}
```

<br />

비교 연산자
==========

- `a > b`
- `a < b`
- `a >= b`
- `a <= b`
- `a == b` &nbsp;&nbsp;<sub>(동등)</sub>
- `a === b` <sub>(일치)</sub>
- `a != b` &nbsp;&nbsp;<sub>(부동)</sub>

### 불린형 반환
- 불린형 값 반환
- `true`
  - '긍정'
  - '참'
  - '사실'
- `false`
  - '부정'
  - '거짓'
  - '사실이 아님'
```javascript
alert( 2 >  1 ); // true
alert( 2 == 1 ); // false
alert( 2 != 1 ); // true

// 비교 결과 변수에 할당
let result = 5 > 4;
alert( result ); // true
```

### 문자열 비교
- '사전' 순 문자열 비교
  - 사전편집순
- 사전 앞쪽 문자열 < 사전 뒤쪽 문자열
```javascript
alert( 'A'    < 'Z' );    // true
alert( 'Glee' < 'Glow' ); // true
alert( 'Be'   < 'Bee' );  // true
```

1. 두 문자열 첫 글자 비교
2. 1번째 문자열 첫 글자 다른 문자열 첫 글자보다 크면 · 작으면<br />1번째 문자열 2번째 문자열보다 크다고 · 작다고 결론<br />비교 종료
3. 두 문자열 첫 글자 같으면 2번째 글자 같은 방식으로 비교
4. 글자 간 비교 끝날 때까지 과정 반복
5. 비교 종료<br />문자열 길이 같으면 두 문자열 동일 결론<br />비교 종료 후 두 문자열 길이 다르면 길이 긴 문자열 더 크다고 결론

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **정확히는 유니코드 순 <sub>(사전 순 X)</sub>**

- 대 · 소문자 구별
  - `'A'` < `'a'`

### 다른 형 값 간 비교
- 자료형 다르면 숫자형 변환
```javascript
alert( '2' > 1 );    // true, 문자열 '2'  → 숫자 2 변환 후 비교
alert( '01' == 1 );  // true, 문자열 '01' → 숫자 1 변환 후 비교

// 불린값
alert( true == 1 );  // true, 불린 값 true  → 숫자 1 변환 후 비교
alert( false == 0 ); // true, 불린 값 false → 숫자 0 변환 후 비교
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **흥미로운 상황**

- `==` <sub>(동등 연산자)</sub>
  - 자동 변환
  - 피연산자 → 숫자형 변환
- `Boolean(x)`
  - 명시적 변환
  - 인수 → 숫자형 변환 X
```javascript
let a = 0;
alert( Boolean(a) ); // false

let b = "0";
alert( Boolean(b) ); // true

alert(a == b);       // true!
```

### 동등 연산자 `==` vs 일치 연산자 `===`
- `==` <sub>(동등 연산자)</sub>
  - `-0`<sub>(숫자)</sub> · `""` <sub>(빈 문자열)</sub> · `false` 구별 X
  - 형 다른 피연산자 비교 시 숫자형 변환
    - `""` <sub>(빈 문자열)</sub> · `false` → `0` <sub>(숫자)</sub> 변환
```javascript
alert( 0  == false ); // true
alert( '' == false ); // true
```
- `===` <sub>(일치 연산자)</sub>
  - 형 변환 없이 값 비교
    - 자료형 동등 여부까지 검사
  - 비교 결과 명확
    - 에러 발생 확률 ↓
```javascript
alert( 0 === false ); // false, 피연산자 형 다름
```
#### `!=` <sub>(부동 연산자)</sub> vs `!==` <sub>(불일치 연산자)</sub>
- `==` · `===` <sub>(동등 · 일치 연산자)</sub> 관계 비슷

### `null` · `undefined` 비교
- `===` <sub>(일치 연산자)</sub>
  - 두 값 자료형 다름
    - `false` 반환
```javascript
alert( null === undefined ); // false
```
- `==` <sub>(동등 연산자)</sub>
  - '특별한 규칙' 적용 <sub>('각별한 커플' 취급)</sub>
    - `true` 반환

```javascript
alert( null == undefined ); // true
```
- 산술 · 기타 비교 <sub>(`<` · `>` · `<=` · `>=`)</sub> 연산자
  - 숫자형 변환
    - `null` → `0`
    - `undefined` → `NaN`

#### `null` vs `0`
- `==` <sub>(동등 연산자)</sub>
  - 기타 비교 <sub>(`<` · `>` · `<=` · `>=`)</sub> 연산자와 동작 방식 다름
```javascript
alert( null >  0 ); // (1) false
alert( null >= 0 ); // (2) true
alert( null == 0 ); // (3) false
```
- (1), (2)
  - `null` → `0` <sub>(숫자형)</sub> 변환
- (3)
  - 동등 연산자 `==`
    - `null` · `undefined` 형 변환 X
    - 두 값 비교 시
      - `true` 반환
    - 그 외 경우 <sub>(`null` · `undefined` 를 다른 값과 비교)</sub>
      - `false` 번환

#### 비교 불가능한 `undefined`
- 다른 값과 비교하지 말것
```javascript
alert( undefined >  0 ); // false (1)
alert( undefined <  0 ); // false (2)
alert( undefined == 0 ); // false (3)
```
- (1), (2)
  - `undefined` → `NaN` <sub>(숫자형)</sub> 변환
  - 피연산자 `NaN` 일 경우
    - 비교 연산자 항상 `false` 반환
- (3)
  - 항상 `null` · `undefined` 일치
  - 그 외 값 불일치

#### 함정 피하기
- <sub>(일치 연산자 `===` 제외)</sub> 비교 연산자
  - 피연산자에 `null` · `undefined` 사용 X
- `null` · `undefined` 가능성 있는 변수
  - 비교 연산자 <sub>(`<` · `>` · `<=` · `>=`)</sub> 피연산자 되지 않도록 주의
  - 따로 처리 코드 추가

```javascript
 0        ==  false     // true,  형 변환
-0        ==  false     // true,  형 변환
''        ==  false     // true,  형 변환
 0        === false     // false, 형 변환 X
-0        === false     // false, 형 변환 X
''        === false     // false, 형 변환 X

null      ==  undefined // true , null · undefined 형 변환 X
null      === undefined // false, 형 변환 X

null      >   0         // false, null → 0 (숫자형)
null      >=  0         // true , null → 0 (숫자형)
null      <   0         // false, null → 0 (숫자형)
null      <=  0         // true , null → 0 (숫자형)
null      ==  0         // false, null · undefined 형 변환 X
null      ==  undefined // true , null · undefined 형 변환 X

undefined >  0          // false, undefined → NaN (숫자형)
undefined <  0          // false, undefined → NaN (숫자형)
undefined == 0          // false, undefined → NaN (숫자형)
undefined == null       // true , null · undefined 형 변환 X

/*
산술 · 기타 비교 연산자
- `null` → `0`
- `undefined` → `NaN`

(일치 연산자 `===` 제외) 비교 연산자
- 피연산자에 `null` · `undefined` 사용 X
*/

```

<br />

`if` 문, `?` 연산자 조건 처리
===========================

### `if` 문
- `if ( … )` 문 괄호 안 조건 평가
- 실행 구문 단 한 줄이어도 `{ … }` <sub>(중괄호)</sub> 사용해 코드 블록으로 감싸기
  - 가독성 ↑
### 불린형 변환
- `if ( … )` 문 괄호 안 표현식 평가 후 불린값 변환
- `0` <sub>(숫자)</sub> · `""` <sub>(빈 문자열)</sub> · `null` · `undefined` · `NaN`
  - 불린형 변환 시 `false`
  - 'falsy <sub>(거짓 같은)</sub>' 값
- 이 외 값 불린형 변환 시 `true`
  - 'truthy <sub>(참 같은)</sub>' 값
```javascript
// 절대 실행 X
if (0) { // 0, falsy
  …
}

// 절대 실행
if (1) { // 1, truthy
  …
}

// 평가 통해 확정된 불린값 if문 전달
let cond = (year == 2015); // 동등 비교 통해 true · false 여부 결정
if (cond) {
  …
}
```
### `else` 절
- `else` 뒤 코드 블록
  - 조건 거짓일 때 실행

### `else if` 복수 조건 처리
- 조건 여러 개 처리
- 마지막 `else` 필수 X <sub>(선택사항)</sub>
```javascript
if ( … ) {
  …
} else if ( … ) {
  …
} else { // 선택사항
  …
}
```

### `?` <sub>(조건부 연산자)</sub>
- 더 짧고 간결
- '삼항 <sub>(ternary)</sub> 연산자' <sub>(피연산자 3개)</sub>
  - 피연산자 3개 받는 유일 연산자
```javascript
condition ? value1 : value2;
//           true  : false
```

```javascript
let accessAllowed;
let age = prompt('나이를 입력해 주세요.', '');
if (age > 18) {
  accessAllowed = true;
} else {
  accessAllowed = false;
}
alert(accessAllowed);

// 조건부 연산자 '?'
let accessAllowed1 = (age > 18) ? true : false;

// 괄호 생략 가능
// 물음표 연산자 우선순위 ↓
// 가독성 ↓
let accessAllowed2 =  age > 18  ? true : false;
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **주의 :**

- 비교 연산자 자체가 `true` · `false` 반환
  - `?` <sub>(물음표 연산자)</sub> 필요 X
```javascript
let accessAllowed3 =  age > 18;
```

### 다중 `?`
- 복수 조건 처리
```javascript
let age = prompt('나이를 입력해주세요.', 18);
let message =
  (age < 3)   ? '아기야 안녕?' :
  (age < 18)  ? '안녕!'       :
  (age < 100) ? '환영합니다!'  :
  '나이가 아주 많으시거나, 나이가 아닌 값을 입력 하셨군요!';
alert( message );
```

### 부적절한 `?`
- `?` <sub>(물음표 연산자)</sub> 를 `if` 문 대용 사용 종종 有
- 간결성 ↑ · 가독성 ↓
- `?` <sub>(물음표 연산자)</sub> 목적
  - 조건 따라 반환 값 달리하기
- `if` 문
  - 여러 분기 처리
```javascript
let company = prompt('자바스크립트는 어떤 회사가 만들었을까요?', '');

// 비권장 (가독성 ↓)
(company == 'Netscape') ?
   alert('정답입니다!') : alert('오답입니다!');

// 권장 (가독성 ↑)
if (company == 'Netscape') {
  alert('정답입니다!');
} else {
  alert('오답입니다!');
}
```

<br />

논리 연산자
==========

- 피연산자
  - 모든 타입 값 가능
- 연산 결과
  - 모든 타입 가능

### `||` <sub>(OR 연산자)</sub>
```javascript
let result = a || b;
```
- 기본적으로 불린값 조작에 사용
  - 인수 중 하나라도 `true`이면 `true` 반환
  - 그렇지 않으면 `false` 반환
```javascript
alert( true  || true );  // true
alert( false || true );  // true
alert( true  || false ); // true
alert( false || false ); // false
```
- 피연산자 불린형 아닐 시 불린형 변환
```javascript
// 1 → true
// 0 → false
if (1 || 0) { // if( true || false )
  alert( 'truthy!' );
}
```
- `if` 문에 자주 사용
- `if` 문 안에 여러 가지 조건 가능
```javascript
let hour = 12;
let isWeekend = true;
if (hour < 10 || hour > 18 || isWeekend) {
  alert( '영업시간이 아닙니다.' );
}
```

### 1번째 truthy 찾는 `||` <sub>(OR 연산자)</sub>

#### 자바스크립트 추가 기능 알고리즘
- _피연산자 여러 개인 경우_
```javascript
let result = value1 || value2 || value3;
```
1. 가장 왼쪽 피연산자 → 오른쪽 피연산자 평가
2. 각 피연산자 불린형 변환<br /> 변환 후 값 `true`이면 평가 중단 후 해당 피연산자 변환 전 원래 값 반환
3. 피연산자 모두 평가한 경우 <sub>(모든 피연산자 `false` 평가)</sub>, 마지막 피연산자 반환
- ※ _**반환 값 : 형 변환 안 된 원래 값**_
```javascript
alert( 1 || 0 );                 // 1, 1 : truthy
alert( null || 1 );              // 1, 1 : truthy
alert( null || 0 || 1 );         // 1, 1 : truthy
alert( undefined || null || 0 ); // 0, 모두 falsy, 마지막 값 반환
```

#### ⓐ 변수 · 표현식 구성 목록에서 1번째 truthy 얻기
- 실제 값 들어있는 변수 찾아 반환
- 모든 변수에 값 없는 경우 마지막 반환

```javascript
let firstName = "";
let lastName = "";
let nickName = "바이올렛";
alert( firstName || lastName || nickName || "익명"); // 바이올렛
// 모든 변수 falsy이면 "익명" 출력
```

#### ⓑ 단락 평가
- 왼쪽 → 오른쪽 평가 진행 중 truthy 만나면 나머지 값들 건드리지 않은 채 평가 중단
- 2번째 피연산자 변수 할당 같은 부수적인 효과(side effect) 가질 때 부각
- 주사용
  - 연산자 왼쪽 조건 falsy일 때만 명령어 실행

```javascript
true  || alert("not printed"); // true 만나자마자 평가 중단 · alert 실행 X
false || alert("printed");
```

### `&&` <sub>(AND 연산자)</sub>
```javascript
let result = a && b;
```
- 기본적으로 두 피연산자 모두 참일 때 `true` 반환
- 그 외 경우 `false` 반환
```javascript
alert( true  && true );  // true
alert( false && true );  // false
alert( true  && false ); // false
alert( false && false ); // false
```
- 피연산자 타입 제약 X
```javascript
if (1 && 0) { // 피연산자 숫자형 → 논리형 변환 : true && false
  alert( "if 문 안에 falsy가 들어가 있으므로 alert창은 실행되지 않습니다." );
}
```

### 1번째 falsy 찾는 AND 연산자 `&&`

#### 자바스크립트 추가 기능 알고리즘
- _피연산자 여러 개인 경우_
```javascript
let result = value1 && value2 && value3;
```
1. 가장 왼쪽 피연산자 → 오른쪽 피연산자 평가
2. 각 피연산자 불린형 변환<br /> 변환 후 값 `false`이면 평가 중단 후 해당 피연산자 변환 전 원래 값 반환
3. 피연산자 모두 평가한 경우 <sub>(모든 피연산자 `true` 평가)</sub>, 마지막 피연산자 반환
- ※ _**반환 값 : 형 변환 안 된 원래 값**_
<br /><br />

- `&&` <sub>(AND 연산자)</sub> vs `||` <sub>(OR 연산자)</sub>
  - `&&` <sub>(AND 연산자)</sub>
    - 1번째 falsy 반환
  - `||` <sub>(OR 연산자)</sub>
    - 1번째 truthy 반환
```javascript
// 1번째 피연산자 truthy이면 2번째 피연산자 반환
alert( 1 && 0 ); // 0
alert( 1 && 5 ); // 5

// 1번째 피연산자 falsy
// - 1번째 피연산자 반환
// - 2번째 피연산자 무시
alert( null && 5 ); // null
alert( 0 && "아무거나 와도 상관없습니다." ); // 0
```
- 피연산자 다수 연속 전달 가능
```javascript
alert( 1 && 2 && null && 3 ); // null
```
- 피연산자 모두 truthy
  - 마지막 피연산자 반환
```javascript
alert( 1 && 2 && 3 ); // 3 (마지막 값)
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **우선순위 : `&&` > `||`**

```javascript
/* 동일 */
 a && b  ||  c && d
(a && b) || (c && d)
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **`if` 문 → `||` · `&&` 대체 X**

- 종종 `if` 문 '짧게' 줄이는 용도로 사용
  - 명확성 · 가독성 ↓
```javascript
let x = 1;
(x > 0) && alert( '0보다 큽니다!' );

↓↓↓

let x = 1;
if (x > 0) {
  alert( '0보다 큽니다!' );
}
```

### `!` <sub>(NOT 연산자)</sub>
```javascript
let result = !value;
```
- 인수 하나 요구
1. 피연산자 불린형 변환
2. 변환 값의 역 반환
```javascript
alert( !true ); // false
alert( !0 );    // true
```
- 두 개 연달아 사용 `!!`
  - 값 불린형 변환
  - 내장 함수 `Boolean` 동일 기능
```javascript
// !!
alert( !!"non-empty string" ); // true
alert( !!null );               // false

// Boolean
alert( Boolean("non-empty string") ); // true
alert( Boolean(null) );               // false
```
- 우선순위
  - `!` > `&&` > `||`

<br />

nullish 병합 연산자 `??`
=======================

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **최근 추가됨**

- 구식 브라우저 폴리필 필요
<br /><br />

- 여러 피연산자 중 값 '확정되어있는' 변수 찾음
```javascript
a ?? b
```
1. `a`가 `null` · `undefined` 아니면 `a`
2. 그 외 경우 `b`
```javascript
// 동일 구문
x = a ?? b
x = (a !== null && a !== undefined) ? a : b;
```
```javascript
let firstName = null;
let lastName = null;
let nickName = "바이올렛";
// null · undefined 아닌 1번째 피연산자
alert(firstName ?? lastName ?? nickName ?? "익명의 사용자"); // 바이올렛
```

### `??` vs `||`
- `||` : 1번째 truthy 값 반환
- `??` : 1번째 정의된 값 반환
- `0` 구분 시 중요한 차이점
  - `0` : 할당될 수 있는 변수
    - `??` 사용 적합

|값|`??`|`\|\|`|
|---|---|---|
|`null`|X|X|
|`undefined`|X|X|
|`NaN`|O|X|
|`0` <sub>(숫자)</sub>|O|X|
|`""` <sub>(빈 문자열)</sub>|O|X|

```javascript
let height1 = height1 ?? 100; // 값 정의되지 않은 경우 100

let height2 = 0;
alert(height2 || 100); // 100
alert(height2 ?? 100); // 0
```

### 우선순위
- 5 <sub>(낮은 편)</sub>
- `=` · `?` < `??` < 대부분 연산자
- 복잡한 표현식 괄호 사용
```javascript
let height = null;
let width = null;
let area = (height ?? 100) * (width ?? 50); // 괄호 사용
alert(area); // 5000
```
- 안정성 관련 이슈
  - `&&` · `||` 함께 사용 X
```javascript
let x =  1 && 2  ?? 3; // SyntaxError: Unexpected token '??'
let x = (1 && 2) ?? 3; // 정상 작동
```

<br />

`while` · `for` 반복문
=================

### `while` 반복문

```javascript
while (condition) {
  // 코드
  // 반복문 본문 (body)
}
```
```javascript
let i = 0;
while (i < 3) {
  alert( i ); // 0, 1, 2
  i++;
}
```
- 반복문 본문 한 번 실행
  - 반복
- 반복문 조건
  - 모든 종류 표현식, 변수 가능
  - `while` 에 의해 평가, 불린값 변환
```javascript
let i = 3;

// while (i != 0)
while (i) { // 0 : falsy
  alert( i );
i--;
}
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **본문 한 줄 : 중괄호 필요 X <sub>(생략 가능)</sub>**

```javascript
let i = 3;
while (i) alert(i--);
```

### `do…while` 반복문
- 반복문 본문 아래 condition
- 본문이 먼저 실행, 조건 확인 후 조건 truthy인 동안 본문 계속 실행
- 본문 최소한 한 번 실행
```javascript
do {
  // 반복문 본문
} while (condition);
```
```javascript
let i = 0;
do {
  alert( i );
  i++;
} while (i < 3);
```

### `for` 반복문
```javascript
for (begin; condition; step) {
  // 반복문 본문
}
```
```javascript
for (let i = 0; i < 3; i++) {
  alert(i); // 0, 1, 2
}
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **인라인 변수 선언**

- `i` <sub>('카운터' 변수)</sub> 반복문 안에서 선언
- 반복문 안에서만 접근 가능
```javascript
for (let i = 0; i < 3; i++) {
  alert(i); // 0, 1, 2
}
alert(i); // Error: i is not defined
```
- 기존 정의된 변수 사용 가능
```javascript
let i = 0;
for (i = 0; i < 3; i++) { // 기존 정의된 변수 사용
  alert(i); // 0, 1, 2
}
alert(i); // 3
```

#### 구성 요소 생략
```javascript
let i = 0;
for (; i < 3; i++) {
  alert( i ); // 0, 1, 2
}
```
```javascript
let i = 0;
for (; i < 3;) { // while (i < 3)
  alert( i++ );  // 0, 1, 2
}
```
- 모든 구성 요소 생략
  - 무한 반복문
```javascript
for (;;) {
  // 끊임 없이 본문 실행
}
```

### 반복문 빠져나오기
- `break` 지시자
```javascript
let sum = 0;
while (true) {
  let value = +prompt("숫자를 입력하세요.", '');
  if (!value) break;
  sum += value;
}
alert( '합계: ' + sum );
```

### 다음 반복으로 넘어가기
- `continue` 지시자
- 전체 반복문 중단 X
- <sub>(조건 통과 시)</sub> 현재 실행 중인 이터레이션 중단 후 다음 이터레이션 강제 실행
- 현재 반복 중단 후 다음 반복 넘어갈 때 사용
```javascript
for (let i = 0; i < 10; i++) {

  // 조건 참이면 남아있는 본문 실행 X
  if (i % 2 == 0) continue;
  alert(i); // 1, 3, 5, 7, 9
}
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **`continue` : 중첩 감소 도움**

- 위 예시 `continue` 미사용 시
```javascript
for (let i = 0; i < 10; i++) {

  if (i % 2) {
    alert( i ); // 중첩 레벨 (중괄호 안 alert 호출) 1개 더 증가
                // if 문 코드 길어짐
                // - 전체 가독성 ↓
  }
}
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **`?` 오른쪽에 `break` · `continue` 사용 X**

- 3항 연산자 `?`
  - 문법 구조
  - 표현식 X
    - 지시자 <sub>(`break` · `continue` 등)</sub> 사용 X
```javascript
if (i > 5) {
  alert(i);
} else {
  continue;
}

↓↓↓

// (i > 5) ? alert(i) : continue; // 문법 에러 발생
```

### `break` · `continue` · `레이블`
- 레이블 <sub>(`label`)</sub>
  - 여러 개의 중첩 반복문 한 번에 빠져나옴
```javascript
labelName: for ( … ) {
  …
}
```
```javascript
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    let input = prompt(`(${i},${j})의 값`, '');

    // outer 레이블 붙은 반복문 찾고 해당 반복문 빠져나옴
    if (!input) break outer;
    …
  }
}
alert('완료!');
```
- 레이블 별도 줄 가능
```javascript
outer:
for (let i = 0; i < 3; i++) {
  …
}
```
- `continue` · 레이블 함께 사용 가능
  - 레이블 붙은 반복문의 다음 이터레이션 실행

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **레이블 : 마음대로 점프 X**

- `break` · `continue` 지시자
  - 반복문 안에서만 사용
- 레이블
  - `break` · `continue` 지시자 위에 위치
```javascript
break label; // 아래 for 문으로 점프 X
label: for ( … )
```

<br />

`switch` 문
========

- 복수 `if` 조건문 → `switch` 문
- 특정 변수 다양한 상황에서 비교
- 코드 자체 비교 상황 잘 설명

### 문법
```javascript
switch(x) {
  case 'value1': // if(x === 'value1')
    …
    [break]
  case 'value2': // if(x === 'value2')
    …
    [break]
  default:       // 선택사항
    …
    [break]
}
```
- `case` 문 내 `break` 문 없으면 조건 부합 여부 상관 없이 다음 `case` 문 실행
```javascript
let a = 2 + 2;
switch (a) {
  case 3:
    alert( '비교하려는 값보다 작습니다.' );
  case 4:
    alert( '비교하려는 값과 일치합니다.' );       // 실행
  case 5:
    alert( '비교하려는 값보다 큽니다.' );         // 실행
  default:
    alert( "어떤 값인지 파악이 되지 않습니다." );  // 실행
}
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **인수 : 모든 표현식 가능**

```javascript
let a = "1";
let b = 0;

switch (+a) {
  case b + 1:
    alert("표현식 +a는 1, 표현식 b+1는 1이므로 이 코드가 실행됩니다.");
    break;
  default:
    alert("이 코드는 실행되지 않습니다.");
}
```

### 여러 `case` 문 묶기
- 코드 같은 `case` 문 한데 묶음 가능
```javascript
let a = 3;
switch (a) {
  case 4:
    alert('계산이 맞습니다!');
    break;
  case 3: // 두 case 문 묶음
  case 5:
    alert('계산이 틀립니다!');
    alert("수학 수업을 다시 들어보는걸 권유 드립니다.");
    break;
  default:
    alert('계산 결과가 이상하네요.');
}
```

### 자료형 중요성
- 일치 비교 조건 확인
  - 자동 형 변환 X
  - 자료형까지 비교
```javascript
let arg = prompt("값을 입력해주세요.");
switch (arg) {
  case '0':
  case '1':
    alert( '0이나 1을 입력하셨습니다.' );
    break;
  case '2':
    alert( '2를 입력하셨습니다.' );
    break;
  case 3: // 3 ≠ '3'
    alert( '이 코드는 절대 실행되지 않습니다!' );
    break;
  default:
    alert( '알 수 없는 값을 입력하셨습니다.' );
}
```

<br />

함수
====

### 함수 선언
#### 함수 선언문
- `function` 키워드
- 함수명
- 매개변수…
```javascript
function name(param1, param2, … paramN) {
  // 함수 본문
}
```
  - 용도
    - 중복 코드 피하기
```javascript
function showMessage() {
  alert( '안녕하세요!' );
}
showMessage();
showMessage();
```

### 지역 변수
- 함수 내 선언 변수
- 함수 안에서만 접근
```javascript
function showMessage() {
  let message = "안녕하세요!"; // 지역 변수
  alert( message );
}
showMessage();    // 안녕하세요!
alert( message ); // ReferenceError: message is not defined
```

### 외부 변수
- 함수 외부 변수 접근
```javascript
let userName = 'John'; // 외부 변수
function showMessage() {
  let message = 'Hello, ' + userName;
  alert(message);
}
showMessage(); // Hello, John
```
- 함수 외부 변수 수정
```javascript
let userName = 'John';
function showMessage() {
  userName = "Bob"; // 외부 변수 수정
  let message = 'Hello, ' + userName;
  alert(message);
}
alert( userName );  // John, 함수 호출 전
showMessage();
alert( userName );  // Bob , 함수 호출 후
```
- 지역 변수 없는 경우에만 외부 변수 사용
- 외부 변수와 동일한 이름 함수 내부 변수 선언 시 내부 변수가 외부 변수 가림
```javascript
let userName = 'John';
function showMessage() {
  let userName = "Bob"; // 동일한 이름 함수 내부 변수
  let message = 'Hello, ' + userName; // Bob
  alert(message);
}
showMessage();     // Hello, Bob, 내부 변수 userName 사용
alert( userName ); // John      , 외부 변수 접근 X
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **전역 변수**

- 함수 외부 선언 변수
- 모든 함수에서 접근 가능
- 동명 지역 변수에 가려지면 접근 X
- 가급적 사용 X
- 프로젝트 전반에 사용되는 데이터

### 매개변수 <sub>(인자)</sub>
- 임의의 데이터 함수 내부에 전달
```javascript
function showMessage(who, text) {  // 인자: who, text
  alert(who + ': ' + text);
}
showMessage('Ann', 'Hello!');      // Ann: Hello!
showMessage('Ann', "What's up?");  // Ann: What's up?
```
- 복사된 값 사용
```javascript
function showMessage(who, text) {
  who = '*' + who + '*';
  alert( who + ': ' + text );
}
let who = "Ann";
showMessage(who, "Hello"); // *Ann*: Hello
alert( who );              //  Ann (외부 변수 변화 X : 복사된 값 사용)
```

#### 매개변수 <sub>(인자)</sub> vs 인수
- 매개변수
  - 함수 선언문 괄호 사이 변수 <sub>(선언)</sub>
- 인수
  - 함수 호출 시 매개변수 전달 값 <sub>(호출)</sub>

### 기본값
- 함수 호출 시 매개변수 인수 전달 X
  - `undefined`
```javascript
function showMessage(who, text) {
  alert(who + ': ' + text);
}
showMessage("Ann"); // "Ann: undefined"
```
- 기본값 설정
```javascript
function showMessage(who, text = "no text given") {
  alert( who + ": " + text );
}
showMessage("Ann");            // Ann: no text given
showMessage("Ann", undefined); // Ann: no text given, 명시적 undefined 값 전달
```
- 복잡한 표현식 기본값
```javascript
function showMessage(from, text = anotherFunction()) {
  // text 값 없을 때 : anotherFunction() 호출
  // text 값        : anotherFunction() 반환 값
}
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **매개변수 기본값 평가 시점**

- 함수 호출할 때마다 기본값 평가
  - 해당 매개변수 없을 때만

#### 매개변수 기본값 설정 다른 방법
- 함수 선언 후 매개변수 기본값 설정
- 구식 자바스크립트 매개변수 기본값 설정 방법<br /><sub>(과거 매개변수 기본값 관련 구문 X)</sub>
```javascript
function showMessage(who, text) {
  // if 문
  if (text === undefined) {
    text = 'no text given';
  }

  // 논리 연산자 ||
  // text 값 falsy 일 경우 기본값 할당
  // 빈문자열("") : falsy (기본값 할당)
  text = text || 'no text given';

  alert( who + ": " + text );
}

function showMessage(who, text) {
  …
}
```
- 모던 자바스크립트 다른 방법
```javascript
function showCount(count) {

  // count 변수 `undefined` · `null` 일 경우
  // - "unknown"
  alert(count ?? "unknown");
}
showCount(0);    // 0
showCount(null); // unknown
showCount();     // unknown
```

### 반환 값
- 함수 호출한 곳에 특정 값 반환
```javascript
function sum(a, b) {
  return a + b;
}
let result = sum(1, 2);
alert( result ); // 3
```
- `return` 함수 내 어디서든 사용 가능
- 실행 흐름 지시자 `return` 만나면 함수 실행 즉시 중단, 함수 호출한 곳에 값 반환
- 함수 하나 여러 `return` 문
```javascript
function checkAge(age) {
  if (age >= 18) {
    return true;
  } else {
    return confirm('보호자의 동의를 받으셨나요?');
  }
}
let age = prompt('나이를 알려주세요', 18);
if ( checkAge(age) ) {
  alert( '접속 허용' );
} else {
  alert( '접속 차단' );
}
```
- `return` 만 명시
   - 함수 즉시 종료
```javascript
function showMovie(age) {
  if ( !checkAge(age) ) {
    return;
  }

  // checkAge(age) false 반환 시 실행 X
  alert( "영화 상영" );
}
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **`return` 문 없거나 `return` 만 있는 함수**

- `undefined` 반환
```javascript
function doNothing1() {
  /* empty */
}
alert( doNothing1() === undefined ); // true

function doNothing2() {
  return; // == return undefined
}
alert( doNothing2() === undefined ); // true
```

<img class="icon" src="./images/commons/icons/triangle-exclamation-solid.svg" /> **`return` 문 · 값 사이에 줄 삽입 X**

```javascript
return
 (some + long + expression + or + whatever * f(a) + f(b))

↓↓↓

return; // 세미콜론 자동 삽입 (== return undefined)
 (some + long + expression + or + whatever * f(a) + f(b))
```
- 괄호 사용
```javascript
return (
  some + long + expression
  + or +
  whatever * f(a) + f(b)
  )
```
### 함수명 짓기
- 대개 동사
  - 어떤 동작 수행 코드
- 간결 · 명확
  - 함수명만 보고도 함수 기능 힌트
- 관습
  - 축약설명 해주는 동사 접두어
  - 팀 내 합의된 접두어 사용 권장

|접두어|의미|
|:---:|---|
|`get`|값 반환|
|`calc`|무언가 계산|
|`create`|무언가 생성|
|`check`|무언가 확인 후 불린값 반환|

- 예시

|함수명|기능|
|---|---|
|`showMessage( … )`|메시지 출력|
|`getAge( … )`|나이 나타내는 값 얻고 반환|
|`calcSum( … )`|합계 계산 후 결과 반환|
|`createForm( … )`|form 생성 후 작성된 form 반환|
|`checkPermission( … )`|승인 여부 확인 후 `true` · `false` 반환|

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **1개 함수 : 1개 동작**

- 함수명 언급 동작만 정확히 수행
  - 그 이외 동작 수행 X
- 독립적인 2개 동작
  - 독립된 함수 2개로 나눠 수행
- 빈번한 실수

|함수명|동작|구분|
|---|---|:---:|
|`getAge`|나이 얻어옴|O|
||`alert` 창 나이 출력|X|
|`createForm`|form 생성 후 반환|O|
||form 문서 추가|X|
|`checkPermission`|승인 여부 확인 후 결과 반환|O|
||승인 여부 표시 메시지 띄움|X|

- 접두어 붙여 만든 모든 함수
  - 팀에서 만든 규칙 준수

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **아주 짧은 이름**
- 특별한 함수명

|함수명|라이브러리|
|:---:|---|
|`$`|jQuery|
|`_`|Lodash|

### 함수 == 주석
- 최대한 간결
  - 테스트 · 디버깅 용이
  - 함수 그 자체로 주석 역할
    - 자기 설명적 코드
- 한 가지 기능만 수행
  - 길어지면 함수 분리

```javascript
function showPrimes1(n) {
  nextPrime: for (let i = 2; i < n; i++) {
    for (let j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }
    alert( i ); // 소수
  }
}

// 함수 분리
function showPrimes2(n) {
  for (let i = 2; i < n; i++) {
    if (!isPrime(i)) continue;
    alert( i ); // 소수
  }
}
function isPrime(n) {
  for (let i = 2; i < n; i++) {
    if ( n % i == 0) return false;
  }
  return true;
}
```

<br />

함수 표현식
==========

#### 함수 취급 차이
- 자바스크립트
  - "특별한 종류의 값"
- 타 언어
  - "특별한 동작을 하는 구조"

#### 함수 선언
```javascript
function sayHi() {
  alert( "Hello" );
}
```
#### 함수 표현식
- 함수 생성 후 변수에 할당<br /><sub>(함수 어떤 방식으로 만들어졌는지 관계 X)</sub>
  - 함수 == 값
    - 변수 할당 가능
    - 값 취급
```javascript
// 함수 만들고 변수 'sayHi'에 할당
let sayHi = function() {
  alert( "Hello" );
};
```
- 함수 == 값
  - `alert` 로 함수 코드 출력<br />
  - 값 취급
```javascript
function sayHi() {
  alert( "Hello" );
}

// 함수 코드 출력
// 함수 괄호 없음
// - 함수 실행 X
alert( sayHi );
```
- 함수 호출 가능
  - 일반적인 값과 조금 다름 <sub>(특별한 종류의 값)</sub>
- ### 함수 본질 → 값<br /><sub>(값에 할 수 있는 일 함수에도 가능)</sub>
- 함수 복사 후 다른 변수 할당
```javascript
function sayHi1() {       // (1) 함수 생성, 함수 선언문
  alert( "Hello1" );
}
let sayHi2 = function() { // (1) 함수 생성, 함수 표현식
  alert( "Hello2" );
};
let func = sayHi1;        // (2) 함수 복사, 괄호 X
func();   // Hello1       // (3) 복사한 함수 실행
sayHi1(); // Hello1       //     본래 함수도 정상적 실행
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **끝에 `;` <sub>(세미콜론)</sub> 붙는 이유**

- 함수 표현식 끝에 `;` <sub>(세미콜론)</sub> 붙음
- 함수 선언문
  - `{ … }` <sub>(중괄호)</sub> 코드 블록
    - 세미콜론 X
      - `if { … }`
      - `for { … }`
      - `function f { … }`
- 함수 표현식
  - 값 취급 · 변수 할당
    - 세미콜론 붙음
```javascript
function sayHi1() {       // 중괄호 코드 블록
  …
}  // 세미콜론 X
let sayHi2 = function() { // 값 취급 · 변수 할당
  …
}; // 세미콜론 O
```

### 콜백 함수
```javascript
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}
function showOk() {
  alert( "동의하셨습니다." );
}
function showCancel() {
  alert( "취소 버튼을 누르셨습니다." );
}

// 함수 showOk · showCancel
// - ask 함수 인수로 전달
// 함수 → 함수 인수
// - 콜백 함수
ask("동의하십니까?", showOk, showCancel);
```
- 코드 단순화
```javascript
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

ask(
  "동의하십니까?",
  function() { alert("동의하셨습니다."); },         // 익명 함수
  function() { alert("취소 버튼을 누르셨습니다."); } // 익명 함수
);
```
<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **함수 : '동작' 나타내는 '값'**

- 데이터
  - 일반적인 '값'
  - ex&#41; 문자열, 숫자 등
- 함수
  - 하나의 '동작'
  - 동작 대변하는 '값'
  - 변수로 전달 가능
    - 동작 필요 시 전달한 '값' 실행

### 함수 선언문 vs 함수 표현식

#### ① 문법
- 함수 선언문
  - 주요 코드 흐름 중간에 독자적인 구문 형태로 존재
- 함수 표현식
  - 표현식 · 구문 구성 내부에 생성
```javascript
// 함수 선언문
function sum1(a, b) {
  return a + b;
}

// 함수 표현식
// 할당 연산자 '=' 이용해 만든 '할당 표현식' 우측에 생성
let sum2 = function(a, b) {
  return a + b;
};
```

#### ② 자바스크립트 엔진 함수 생성 타이밍
- 함수 표현식
  - 실행 흐름 해당 함수 도달 시 함수 생성 · 사용 가능
- 함수 선언문
  - 정의 이전에 호출 가능
  - 전역 함수 선언문
    - 스크립트 위치 상관없이 어디서든 사용 가능
- 자바스크립트 내부 알고리즘
  - 초기화 단계 <sub>(스크립트 실행 전)</sub>
    - 함수 선언 방식의 함수 생성
  - 스크립트 실행
    - 모든 함수 선언문 처리 <sub>(초기화 단계)</sub> 이후
```javascript
// 함수 선언문
sayHi1("John"); // Hello1, John
function sayHi1(name) {
  alert( `Hello1, ${name}` );
}

// 함수 표현식
sayHi2("John"); // error!
let sayHi2 = function(name) {
  alert( `Hello2, ${name}` );
};
```

#### ③ 스코프
- 엄격 모드
  - 함수 선언문 코드 블록 내 위치
    - 블록 내부 어디서든 함수 접근 가능
    - 블록 외부 함수 접근 X
```javascript
let age = prompt("나이를 알려주세요.", 18);
// 조건 따라 함수 선언
// if문 블록 내부에서만 유효
if (age < 18) {
  function welcome() {
    alert("안녕!");
  }
} else {
  function welcome() {
    alert("안녕하세요!");
  }
}
// 함수 나중에 호출
welcome(); // Error: welcome is not defined
```
```javascript
let age = 16;
if (age < 18) {
  welcome();               // \   (실행)
  function welcome() {     //  |
    alert("안녕!");        //   |  함수 선언 블록 내 어디서든 유효
  }                        //  |
  welcome();               // /   (실행)
} else {
  function welcome() {
    alert("안녕하세요!");
  }
}
// 중괄호 밖
// - 중괄호 안 선언 함수 선언문 호출 X
welcome(); // Error: welcome is not defined
```
- 함수 표현식
  - 블록 외부에서 블록 내부 함수 접근
```javascript
let age = prompt("나이를 알려주세요.", 18);
let welcome;
if (age < 18) {
  welcome = function() {
    alert("안녕!");
  };
} else {
  welcome = function() {
    alert("안녕하세요!");
  };
}
welcome(); // 정상 동작
```
- 물음표 연산자 `?`
  - 코드 단순화
```javascript
let age = prompt("나이를 알려주세요.", 18);
let welcome = (age < 18) ?
  function() { alert("안녕!"); } :
  function() { alert("안녕하세요!"); };
welcome(); // 정상 동작
```

<img class="icon" src="./images/commons/icons/circle-exclamation-solid.svg" /> **함수 선언문 vs 함수 표현식**

- 함수 선언문 먼저 고려
  - 함수 선언 전 호출 가능 <sub>(좀 더 자유롭게 구성)</sub>
  - 가독성 ↑ <sub>(더 눈에 띔)</sub>

<br />

화살표 함수
==========

- 함수 표현식보다 단순 · 간결
```javascript
let func = function(arg1, arg2, ...argN) {
  return expression;
};

↓↓↓

let func = (arg1, arg2, ...argN) => expression;
```
```javascript
let sum = function(a, b) {
  return a + b;
};

↓↓↓

let sum = (a, b) => a + b;

alert( sum(1, 2) ); // 3
```
- 인수 1개
  - 인수 괄호 생략 가능
```javascript
let double = function(n) { return n * 2 }

↓↓↓

let double = n => n * 2;

alert( double(3) ); // 6
```
- 인수 X
  - 빈 괄호 <sub>(괄호 생략 X)</sub>
```javascript
let sayHi = () => alert("안녕하세요!");
sayHi();
```
- 함수 동적 생성
```javascript
let age = prompt("나이를 알려주세요.", 18);
let welcome = (age < 18) ?
  () => alert('안녕') :
  () => alert("안녕하세요!");
welcome();
```
- <sub>(함수 본문)</sub> 한 줄 화살표 함수
  -  코드 수 ↓

### 본문 여러 줄 화살표 함수
- `{ … }` <sub>(중괄호)</sub> · `return` 사용해 명시적으로 결과값 반환
```javascript
let sum = (a, b) => {  // 중괄호
  let result = a + b;
  return result;       // return 결과값 반환
};
alert( sum(1, 2) );    // 3
```
