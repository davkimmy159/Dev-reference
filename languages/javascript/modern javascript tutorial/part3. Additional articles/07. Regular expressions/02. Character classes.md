문자 클래스
==========

- 특정 집합 내 모든 기호 일치 표현

##### 숫자 클래스
- `\d`
  - 아무 숫자 하나

##### 전화번호 내 1번째 숫자 검색
```javascript
let str = "+7(903)-123-45-67";

let regexp = /\d/;

alert( str.match(regexp) ); // 7
```

##### 전화번호 내 모든 숫자 검색
- `g` <sub>(플래그)</sub>
```javascript
let str = "+7(903)-123-45-67";

let regexp = /\d/g;

// 7,9,0,3,1,2,3,4,5,6,7
alert( str.match(regexp) );

// 검색 결과 (배열) 이어붙이기
// - 79035419441
alert( str.match(regexp).join('') );
```

#### 주요 문자 클래스

##### `\d`
- 숫자
  - `0` ~ `9`

##### `\s`
- 공백 기호
  - 스페이스
  - 탭 <sub>(`\t`)</sub>
  - 줄 바꿈 <sub>(`\n`)</sub>
  - `\v`
  - `\f`
  - `\r`

##### `\w`
- 단어 구성 문자
  - 라틴 문자
  - 숫자
  - `_` <sub>(밑줄)</sub>
- 非라틴 문자 X
  - 키릴
  - 힌디
  - 가타 등등

##### `\d\s\w`
- 숫자 1개 + 공백 문자 1개 + 단어 구성 문자 1개
  - ex\) `1 a`

##### 일반 기호 · 문자 클래스 조합
- `CSS\d`
  - 'CSS' <sub>(문자열)</sub> + 숫자 1개
```javascript
let str = "Is there CSS4?";
let regexp = /CSS\d/;

alert( str.match(regexp) ); // CSS4
```

##### 다수 문자 클래스 사용
```javascript
// ' HTML5'
alert( "I love HTML5!".match(/\s\w\w\w\w\d/) );
```

![love-html5-classes](../../images/03/07/02/love-html5-classes.svg)

### 반대 클래스

##### 해당 문자 외 모든 문자
- 모든 문자 클래스 대응
- 대문자 동일 글자

##### `\D`
- 숫자 외 문자
- `\d` 불일치 모든 문자
  - 일반 글자
  - 기타 등등

##### `\S`
- 공백 외 문자
- `\s` 불일치 모든 문자
  - 일반 글자
  - 기타 등등

##### `\W`
- 단어 구성 문자 외 문자
- `\` 불일치 모든 문자
  - 非라틴 문자
  - 공백
  - 기타 등등

##### 전화번호 내 모든 숫자 검색
- `\D`
  - 숫자 외 문자
```javascript
let str = "+7(903)-123-45-67";

// 79031234567
alert( str.replace(/\D/g, "") );
```

### `.` <sub>(점)</sub>

##### '아무 문자'
- 줄 바꿈 문자 외 모든 문자
```javascript
alert( "Z".match(/./) ); // Z
```
```javascript
let regexp = /CS.4/;

alert( "CSS4".match(regexp) ); // CSS4
alert( "CS-4".match(regexp) ); // CS-4
alert( "CS 4".match(regexp) ); // CS 4 (공백 포함)
```

점은 아무 문자에나 일치하지만 '문자의 부재'와 일치하지는 않습니다. 반드시 일치하는 문자가 있어야 합니다.
```javascript
alert( "CS4".match(/CS.4/) ); // null, 점과 일치하는 문자가 없기 때문에 일치 결과가 없습니다.
```

#### `s` 플래그와 점을 사용해 정말로 모든 문자 찾기
기본적으로는 점은 줄 바꿈 문자 `\n`와는 일치하지 않습니다.

즉, 정규 표현식 `A.B`는 `A`와 `B` 사이에 `\n`을 제외한 어떤 문자든 들어간 문자열과 일치합니다.
```javascript
alert( "A\nB".match(/A.B/) ); // null (일치하지 않음)
```

실제로는 점이 줄 바꿈 문자를 포함한 정말로 모든 문자와 일치해야 하는 상황이 자주 있습니다.

이럴 때 사용하는 것이 `s`입니다. 정규 표현식에 `s`를 사용했을 때 점`.`은 모든 문자와 일치합니다.
```javascript
alert( "A\nB".match(/A.B/s) ); // A\nB (일치!)
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **Firefox, IE, Edge에서 지원하지 않음**

[지원 여부의 최신 상황](https://caniuse.com/#search=dotall)을 확인해보세요. 이 글을 작성하는 시점에 s 플래그는 Firefox, IE, Edge에서 아직 지원하지 않습니다.

다행히도 어느 브라우저에서나 쓸 수 있는 대안이 있습니다. `[\s\S]`같은 정규 표현식을 사용해 '모든 문자'와 일치시킬 수 있습니다.
```javascript
alert( "A\nB".match(/A[\s\S]B/) ); // A\nB (일치!)
```
`[\s\S]` 패턴의 문자 그대로의 뜻은 '공백 문자 또는 공백 문자가 아닌 문자'입니다. 결국은 모든 문자라는 뜻이죠. 이런 식으로 반대되는 클래스를 같이 사용하는 다른 패턴, 예를 들면 `[\d\D]`을 사용할 수도 있습니다. 또는 아무 문자도 없는 경우를 제외하는 `[^]`을 사용할 수도 있습니다.

그리고 이 기술을 이용해 같은 정규 표현식 안에서 점의 두 가지 패턴을 모두 사용할 수 있습니다. 줄 바꿈 문자를 포함하지 않는 원래의 점 `.`과 모든 문자와 일치하는 `[\s\S]`같은 패턴을 동시에 사용 가능합니다.

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **공백을 주의하세요.**

사람은 보통 공백을 크게 의식하지 않습니다. 사람에게는 문자열 `1-5`나 `1 - 5`나 거의 같으니까요.

하지만 정규 표현식에서 공백을 염두하지 않으면 원하는 결과를 얻지 못할 수 있습니다.

하이픈으로 구분된 숫자를 찾아봅시다.
```javascript
alert( "1 - 5".match(/\d-\d/) ); // null, 일치 결과 없음!
```
정규 표현식에 공백을 넣어서 `\d - \d`로 바꿔봅시다.

```javascript
alert( "1 - 5".match(/\d - \d/) ); // 1 - 5, 이제 제대로 되네요.
// \s 클래스를 사용해도 됩니다.
alert( "1 - 5".match(/\d\s-\s\d/) ); // 1 - 5, 이것도 됩니다.
```

**공백 역시 문자입니다. 다른 문자만큼이나 중요합니다.**

정규 표현식에 공백을 추가하거나 지우면 다르게 작동합니다.

즉, 정규 표현식에서는 모든 문자가 중요합니다. 공백도 마찬가지로요.

<br />

## 요약
문자 클래스에는 다음 클래스들이 있습니다.
- `\d` – 숫자
- `\D` – 숫자가 아닌 문자
- `\s` – 스페이스, 탭, 줄 바꿈 문자
- `\S` – `\s`를 제외한 모든 문자
- `\w` – 라틴 문자, 숫자, 밑줄 `_`
- `\W` – `\w`를 제외한 모든 문자
- `.` – 정규 표현식 `s` 플래그가 있으면 모든 문자, 없으면 줄 바꿈 `\n`을 제외한 모든 문자

하지만 이게 전부가 아닙니다!

자바스크립트에서 문자열에 사용하는 유니코드 인코딩은 문자에 여러 프로퍼티를 제공합니다. 어떤 언어에 속하는 글자인지 또는 글자가 아닌 구두점인지 알려주는 프로퍼티처럼요.

이런 프로퍼티를 기준으로 문자를 찾을 수도 있습니다. `u` 플래그를 사용하면 되는데요. 다음 글에서 알아보도록 하죠.
