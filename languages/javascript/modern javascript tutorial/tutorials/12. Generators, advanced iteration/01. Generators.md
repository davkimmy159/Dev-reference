제너레이터
=========

##### 일반 함수
- 0 ~ 1개 값 반환

##### 제너레이터 <sub>(generator)</sub>
- 여러 개의 값
  - 필요에 따라 하나씩 반환 <sub>(yield)</sub>
- 이터러블 <sub>(객체)</sub> 함께 사용 시
  - 데이터 스트림 쉽게 생성

### 제너레이터 함수
- 문법
  - `function*`
```javascript
function* generateSequence() {
  yield 1;
  yield 2;
  return 3;
}
```
##### 제너레이터 함수 호출
- 코드 실행 X
- '제너레이터 객체' 반환
  - 실행 처리 객체
```javascript
function* generateSequence() {
  yield 1;
  yield 2;
  return 3;
}

// 제너레이터 함수
// - 제너레이터 객체 생성
let generator = generateSequence();
alert(generator); // [object Generator]
```
- 함수 본문 코드
  - 아직 실행 X

![generateSequence-1](../../images/12/01/generateSequence-1.svg)

#### `next()` <sub>(메서드)</sub>
- 제너레이터 주요 메서드

##### 가장 가까운 `yield <value>` <sub>(문)</sub>
- 만날 때까지 실행 지속
- `value` 생략 시
  - `undefined`

##### `yield <value>` <sub>(문)</sub> 도달 시
- 실행 중단
- `value` <sub>(산출 목표 값)</sub>
  - 바깥 코드 반환

##### 반환 객체 프로퍼티 <sub>(2개)</sub>
- `value`
  - 산출 값
- `done`
  - `true` &nbsp;&nbsp;: 함수 코드 종료
  - `false` : 함수 코드 실행 중

##### 제너레이터 생성 후
- 첫 번째 산출 값 반환
```javascript
function* generateSequence() {
  yield 1;
  yield 2;
  return 3;
}

let generator = generateSequence();

let one = generator.next();

// {value: 1, done: false}
alert(JSON.stringify(one));
```
- 첫 번째 값만 반환
  - 실행 : 2번째 줄 중단

![generateSequence-2](../../images/12/01/generateSequence-2.svg)

- `generator.next()` 다시 호출
  - 실행 재개
    - 다음 `yield` 반환
  - 실행 : 3번째 줄 중단
```javascript
let two = generator.next();

// {value: 2, done: false}
alert(JSON.stringify(two));
```

![generateSequence-3](../../images/12/01/generateSequence-3.svg)

- `generator.next()` 다시 호출
  - 실행 : `return` <sub>(문)</sub> 도달
    - 함수 종료
```javascript
let three = generator.next();

// {value: 3, done: true}
alert(JSON.stringify(three));
```

![generateSequence-4](../../images/12/01/generateSequence-4.svg)

##### 제너레이터 종료
- `generator.next()` 여러 번 호출
  - 소용 X
  - `{ done: true }` <sub>(객체)</sub> 계속 반환

<img class="icon" src="../../images/commons/icons/circle-exclamation-solid.svg" /> **`function* f( … )` · `function *f( … )`**

- 둘 다 유효

##### 대개 1번째 문법 선호
- `*` : 제너레이터 "함수" 표현
  - 함수 종류 표현
  - 함수 이름 표현 X

### 제너레이터 · 이터러블 <sub>(객체)</sub>
- 제너레이터 == 이터러블 <sub>(객체)</sub>
  - `for…of` <sub>(반복문)</sub> 사용 가능
```javascript
function* generateSequence() {
  yield 1;
  yield 2;
  return 3;
}

let generator = generateSequence();

for(let value of generator) {
  alert(value); // 1, 2
                // 3 : 미출력
}
```

##### `3` 미출력 이유
- `for…of` <sub>(이터레이션)</sub>
  - `done: true`
    - 마지막 `value` 무시
- 마지막 값
  - `yield`
  - `return` X
```javascript
function* generateSequence() {
  yield 1;
  yield 2;
  yield 3;
}

let generator = generateSequence();

for(let value of generator) {
  alert(value); // 1, 2, 3
}
```

##### 제너레이터 == 이터러블 <sub>(객체)</sub>
- `...` <sub>(전개 구문)</sub> 사용 가능
```javascript
function* generateSequence() {
  yield 1;
  yield 2;
  yield 3;
}

let sequence = [0, ...generateSequence()];

alert(sequence); // 0, 1, 2, 3
```

### 이터러블 <sub>(객체)</sub> 대신 제너레이터 사용하기
