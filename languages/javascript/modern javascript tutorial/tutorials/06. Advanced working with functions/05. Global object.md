전역 객체
========

- 어디서나 사용 가능한 변수 · 함수
- 보통 언어 자체 · 호스트 환경 기본 내장
- 각 호스트 환경마다 부르는 이름 상이
- `globalThis` <sub>(전역 객체명)</sub> 표준화 내용
  - 최근 JS 명세 추가
  - 모든 호스트 환경 이를 따라야 함
  - Chromium 기반 아닌 몇몇 브라우저
    - 아직 `globalThis` 미지원
    - 폴리필 <sub>(polyfill)</sub> 쉽게 추가 가능
```javascript
alert("Hello");

window.alert("Hello");
```
- 브라우저 내 `var` 선언 전역 함수 · 변수
  - 전역 객체 프로퍼티
  - `let` · `const` X
```javascript
var gVar = 5;

alert(window.gVar); // 5
```
- 하위 호환성 때문에 이런 방식 유지
  - 비권장
  - 모던 JS <sub>(모듈 사용)</sub> 미지원
- `let` 사용 시
  - 전역 객체 통해 변수 접근 X
```javascript
let gLet = 5;

alert(window.gLet); // undefined
```
- 전역 접근 필요 시
  - 전역 객체에 직접 프로퍼티 추가
```javascript
// 모든 스크립트 'currentUser' 접근 가능
window.currentUser = {
  name: "John"
};

alert(currentUser.name); // John

// 'currentUser' 지역 변수 존재 시
// - 전역 객체에서 명시적으로 가져오기
alert(window.currentUser.name); // John
```
- 전역 변수 가급적 사용 X
- 함수 생성 시
  - 외부 · 전역 변수 사용 자제
  - 함수 권장 구성
    1. '인풋' 변수 받기
    2.  이를 이용해 '아웃풋' 만들기
    - 테스트 난이도 ↓
    - 에러 발생률 ↓

### 폴리필 사용
- 브라우저 최신 기능 지원 여부 확인
  - 전역 객체 이용
```javascript
// Promise 내장 객체 지원 여부 테스트
// 구식 브라우저 Promise 객체 미지원
if (!window.Promise) {
  alert("구식 브라우저를 사용 중이시군요!");
}
```
- 폴리필 추가
  - 오래된 브라우저 <sub>(명세 기능 미지원)</sub> 사용 시
    - 직접 함수 생성 후 전역 객체에 추가
```javascript
if (!window.Promise) {
  window.Promise = … // 모던 JS 지원 기능 직접 구현
}
```
