동적으로 모듈 가져오기
====================

##### `import` · `export` <sub>(문)</sub>
- '정적인' 방식
  - 문법 단순

##### 제약사항 존재

1. `import` <sub>(문)</sub>
    - 동적 매개변수 사용 X
    - 모듈 경로
      - 원시 문자열
      - 함수 호출 결괏값 X
```javascript
// 에러 발생
// - 모듈 경로
//   - 문자열만 허용
import ... from getModuleName();
```
##### 2. 런타임 · 조건부 모듈 불러오기 X
```javascript
if( … ) {
  // 에러 발생
  // - 조건부 불러오기 X
  import …;
}

{
  // 에러 발생
  // - 블록 내 위치 X
  import …;
}
```

##### 제약사항 존재 이유
- `import` · `export`
  - 코드 구조 중심 역할
- 코드 구조 분석 후
  - 모듈 한데 모아 번들링
  - 미사용 모듈 제거 <sub>(가지치기)</sub>
- 요구 코드 구조
  - 간단 · 고정

### `import(module)` <sub>(표현식)</sub>
- 모듈 읽고 이행 프라미스 반환
  - 내보낼 것 모두 포함하는 객체 담음
- 코드 내 어디서나 호출 가능
  - 동적 사용
```javascript
let modulePath = prompt("어떤 모듈을 불러오고 싶으세요?");

import(modulePath)
  .then(obj => <모듈 객체>)
  .catch(err => <로딩 에러, e.g. 해당 모듈 부재 시>)
```
- `async` 함수 안 사용
  - `let module = await import(modulePath)`
```javascript
// 📁 say.js
export function hi() {
  alert(`안녕하세요.`);
}

export function bye() {
  alert(`안녕히 가세요.`);
}
```
- 동적으로 모듈 불러오기
```javascript
let {hi, bye} = await import('./say.js');

hi();
bye();
```
- default export 추가
```javascript
// 📁 say.js
export default function() {
  alert("export default한 모듈을 불러왔습니다!");
}
```
- default export 모듈 사용
  - `default` <sub>(모듈 객체 프로퍼티)</sub>
```javascript
let obj = await import('./say.js');
let say = obj.default;
// 위 두 줄을 let {default: say} = await import('./say.js'); 같이 한 줄로 줄일 수 있습니다.

say();
```
아래는 실제 동작하는 예시입니다.