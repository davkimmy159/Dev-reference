화살표 <sub>(`=>`)</sub> 함수 심화
====

### 자체 `this` 無

##### 고유 `this` 無 <sub>(별개 `this` 미생성)</sub>
- `this` 참조 시 외부 컨텍스트 내 `this` 이용
  - 일반 외부 함수 내 `this` 값

##### 객체 메서드 내 다수 동일 객체 프로퍼티 순회
- 화살표 함수 내 `this`
  - 외부 값 사용
- 일반 함수 내 `this`
  - 자체 값 <sub>(`undefined`)</sub> 사용
```javascript
let group = {
  title: "1모둠",
  students: ["보라", "호진", "지민"],

  showList() {
    this.students.forEach(

      // 화살표 함수
      // - this == group
      // - this.title == group.title
      student => alert(this.title + ': ' + student)
    );

    this.students.forEach(function(student) {
 
     // 일반 함수
     // - this == undefined
     // - this.title 접근 시 에러
      alert(this.title + ': ' + student); // TypeError: Cannot read property 'title' of undefined
    });
  },
};

group.showList();
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **`new` <sub>(연산자)</sub> 사용 불가능 X**

##### 고유 `this` 無 <sub>(미생성)</sub>
- 생성자 <sub>(`new` 연산자)</sub> 사용 불가능

<br />

<img src="../../images/commons/icons/circle-exclamation-solid.svg" /> **화살표 함수 vs `bind`**

##### `.bind(this)`
- 함수의 '한정된 버전' 생성

##### 화살표 함수
- 어떤 것도 바인딩 X
- 단지 `this` 부재
- `this` 사용 시
  - 외부 렉시컬 환경 검색
  - 일반 변수 서칭 유사

<br />

### `arguments` 미지원
- 유사 배열 객체
  - 함수의 모든 인수 담음
- 일반 함수와의 차이

##### 포워딩 데코레이터 생성 시 유용
- 현재 `this` 값 · `arguments` 정보
  - 함께 실어 호출
```javascript
function defer(f, ms) {
  return function() {
    setTimeout(() => f.apply(this, arguments), ms)
  };
}

function sayHi(who) {
  alert('안녕, ' + who);
}

let sayHiDeferred = defer(sayHi, 2000);

// 2초 후 "안녕, 철수" 출력
sayHiDeferred("철수");
```

##### 일반 함수 사용 시
- `ctx` · `args` <sub>(변수)</sub> 필요
  - `setTimeout` 콜백 함수가 사용
```javascript
function defer(f, ms) {
  return function(...args) {
    let ctx = this;
    setTimeout(function() { return f.apply(ctx, args); }, ms);
  };
}
```

<br />

요약
====

##### 화살표 함수 특징
- `this` X
- `arguments` X
- `new` 함께 호출 X
  - 생성자 X
- `super` <sub>(키워드)</sub> X

##### 용도
- 컨텍스트 있는 긴 코드 X
- 자체 컨텍스트 없는 짧은 코드
