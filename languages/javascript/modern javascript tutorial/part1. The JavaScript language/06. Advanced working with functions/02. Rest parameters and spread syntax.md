나머지 매개변수 · 전개 구문
====

##### 대다수 내장 함수 인수 개수 제약 無
- `Math.max(arg1, arg2, …, argN)`
  - 인수 중 최댓값 반환
- `Object.assign(dest, src1, …, srcN)`
  - `dest` 내 `src1, …, srcN` 복사
- 기타 등등

### `...` <sub>(나머지 매개변수)</sub>

##### 함수
- 인수 개수 제약 無 <sub>(정의 방법 무관)</sub>

##### `sum(a, b)` <sub>(함수)</sub>
- 정의
  - 인수 2개 명시
- 호출
  - 여분 인수 전달 가능 <sub>(에러 X)</sub>
  - 정의 명시 인수만 사용
```javascript
function sum(a, b) {
  return a + b;
}

//  a  b
sum(1, 2, 3, 4, 5); // 3 (1 + 2)
```

##### `...` + 매개변수명
- 여분 매개변수 저장 <sub>(배열)</sub>
```javascript
// args (배열) 내 모든 인수 저장
function sumAll(...args) {
  let sum = 0;

  for (let arg of args) {
    sum += arg;
  }

  return sum;
}

sumAll(1);       // 1
sumAll(1, 2);    // 3
sumAll(1, 2, 3); // 6
```

##### 일반 · 나머지 매개변수 조합
- 일반 매개변수
  - 처음 인수 2개
- 나머지 매개변수
  - `titles` <sub>(배열)</sub>
```javascript
function showName(firstName, lastName, ...titles) {

  /* 매개변수
   firstName (일반)
   - Bora
   lastName  (일반)
   - Lee
   titles (나머지 · 배열)
   - ["Software Engineer", "Researcher"]
   */

  // Bora Lee
  alert( firstName + ' ' + lastName );

  alert( titles[0] ); // Software Engineer
  alert( titles[1] ); // Researcher
  alert( titles.length ); // 2
}

showName("Bora", "Lee", "Software Engineer", "Researcher");
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **항상 끝 위치**

##### 잔여 인수 그룹화 역할
```javascript
// ...rest (나머지 매개변수)
// - 매개변수 목록 내 끝 위치 필수
//   - 뒤쪽 타 인수 위치 X (에러)
function f(arg1, ...rest, arg2) { … } // 에러
```

<br />

### `arguments` <sub>(객체)</sub>

##### 유사 배열 <sub>(이터러블)</sub> 객체
- 인덱스 사용해 인수 접근
- `length` <sub>(프로퍼티)</sub> 有
- `for…of` <sub>(반복문)</sub> 사용 가능
```javascript
function showName() {
  alert( arguments.length );
  alert( arguments[0] );
  alert( arguments[1] );
}

// 2, Bora, Lee
showName("Bora", "Lee");

// 1, Bora, undefined
showName("Bora");
```

#### `...` <sub>(나머지 매개변수)</sub> vs `arguments` <sub>(객체)</sub>

##### `...` <sub>(나머지 매개변수)</sub>
- 비교적 최신 문법 <sub>(사용 권장)</sub>

##### `arguments` <sub>(객체)</sub>
- 과거 문법 <sub>(구식 코드 내 발견 가능)</sub>
  - 현재도 사용 가능
- 유사 배열 객체 <sub>(배열 유사 형태)</sub>
- 이터러블 <sub>(객체)</sub>
  - 배열 X <sub>(배열 메서드 사용 불가능)</sub>
- 항상 인수 전체 저장
  - 일부 인수만 저장 불가능

<br />

<img src="../../images/commons/icons/circle-exclamation-solid.svg" /> **화살표 함수 내 `arguments` <sub>(객체)</sub> 無**

##### 화살표 함수
- `arguments` <sub>(객체)</sub> 접근 시
  - 일반 외부 함수 내 객체 이용
```javascript
function f() {

  // f (외부 함수) 내 arguments (객체) 접근
  let showArg = () => alert(arguments[0]);

  showArg();
}

f(1); // 1
```

##### 화살표 함수 특징
- 자체 `this` 無
- `arguments` <sub>(객체)</sub> 無

<br />

### `...` <sub>(전개 구문)</sub>

##### 일반 매개변수
- 배열 전달 불가능

##### [`Math.max`](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Math/max) <sub>(내장 메서드)</sub>
- 인수 중 최댓값 반환
```javascript
Math.max(3, 5, 1); // 5
```
- 배열 전달 시 동작 X
  - 숫자 목록만 전달 가능
```javascript
let array = [3, 5, 1];

// 배열 전달 불가능
Math.max(array); // NaN

// 요소 수동 나열 시 전달 가능 (편의성 ↓)
// - 배열 길이 상이 시 사용 불가능
Math.max([array[0], array[1], array[2]]);
```

#### `...` <sub>(전개 구문)</sub>

##### `...` <sub>(나머지 매개변수)</sub> 반대 기능 수행
- 이터러블 <sub>(객체)</sub> 나열
```javascript
let arr = [3, 5, 1];

// ...array
// - array (이터러블 객체) → 인수 목록 (확장)
Math.max(...array); // 5
```
- 다수 이터러블 <sub>(객체)</sub> 전달 가능
```javascript
let array1 = [1, -2,  3, 4];
let array2 = [8,  3, -8, 1];

Math.max(...array1, ...array2); // 8
```

#### 혼합 사용

##### 이터러블 <sub>(객체)</sub> · 평범한 값
```javascript
let arr1 = [1, -2, 3, 4];
let arr2 = [8, 3, -8, 1];

// 25
alert( Math.max(1, ...arr1, 2, ...arr2, 25) );
```

##### 배열 합칠 때 활용
```javascript
let arr = [3, 5, 1];
let arr2 = [8, 9, 15];
let merged = [0, ...arr, 2, ...arr2];

// 0,3,5,1,2,8,9,15
alert(merged);
```

##### 모든 이터러블 <sub>(객체)</sub>
- 전개 구문 사용 가능
```javascript
// 문자열 → 문자 배열
let str = "Hello";

// H,e,l,l,o
alert( [...str] );
```

##### `for…of` <sub>(반복문)</sub> : 동일 방식 동작
- 요소 수집 시
  - 내부 이터레이터 <sub>(반복자)</sub> 사용
- 문자열 순회 시
  - 문자열 구성 문자 반환

##### `[...str]` <sub>(전개 구문)</sub>
1. `...str` → `H,e,l,l,o`
2. `[]` <sub>(배열 초기자)</sub> 전달
    - `[H,e,l,l,o]`

##### `Array.from`
- 이터러블 <sub>(객체)</sub> → 배열
  - `...` <sub>(전개 구문)</sub> 동일 기능
```javascript
let str = "Hello";

// 이터러블 (객체) → 배열
alert( Array.from(str) ); // H,e,l,l,o
alert( [...str] );        // H,e,l,l,o
```

##### `Array.from(obj)`  vs `[...obj]`

||이터러블 <sub>(객체)</sub>|유사 배열 객체|
|:---:|:---:|:---:|
|`Array.from`|O|O|
|`[...]` <sub>(전개 구문)</sub>|O|X|

##### 배열 변환
- `Array.from` 보편적으로 사용

### 배열 · 객체 복사본 생성

##### 전개 구문
- 배열 · 객체 복사

##### `Object.assign()`
- 객체 복사
```javascript
/* 배열 복사 */
let arr = [1, 2, 3];

// ① 배열 펼쳐 각 요소 분리
// ② 매개변수 목록 생성
// ③ 매개변수 목록 → 새 배열 할당
let arrCopy = [...arr];

// 기존 배열 요소 == 복사본 배열 요소
// - true
alert(JSON.stringify(arr) === JSON.stringify(arrCopy));

// 두 배열 다름
//  - false (참조 다름)
alert(arr === arrCopy);

// 참조 다름
// - 기존 배열 수정 시
//   - 복사본 영향 無
arr.push(4);
alert(arr);     // 1, 2, 3, 4
alert(arrCopy); // 1, 2, 3
```
```javascript
/* 객체 복사 */
let obj = {a: 1, b: 2, c: 3};

// ① 객체 펼쳐 각 요소 분리
// ② 매개변수 목록 생성
// ③ 매개변수 목록 → 새 객체 할당
let objCopy = {...obj};

// 기존 객체 내 프로퍼티 == 복사본 객체 내 프로퍼티
// - true
alert(JSON.stringify(obj) === JSON.stringify(objCopy));

// 두 객체 다름
alert(obj === objCopy); // false (참조 다름)

// 참조 다름
// - 기존 객체 수정 시
//   - 복사본 영향 無
obj.d = 4;

// {"a":1,"b":2,"c":3,"d":4}
alert(JSON.stringify(obj));

// {"a":1,"b":2,"c":3}
alert(JSON.stringify(objCopy));
```

##### `...` <sub>(전개 구문)</sub>
- 코드량 ↓

##### `Object.assign()`
- 코드량 ↑
```javascript
let arr = [1, 2, 3];
let obj = {a: 1, b: 2, c: 3};

// 전개 구문
let arrCopy1 = [...arr];
let objCopy1 = {...obj};

// Object.assign()
let objCopy2 = Object.assign({}, obj);
let arrCopy2 = Object.assign([], arr);
```

<br />

요약
====

#### `...`

##### 나머지 매개변수
- 인수 목록 나머지 → 배열
  - 함수 매개변수 끝
- 함수 인수 개수 제한 無

##### 전개 구문
- 배열 → 목록 확장
  - 함수 호출 · 기타 경우
- 다수 인수 받는 함수에 배열 전달

##### `arguments` <sub>(이터러블 · 유사 배열 객체)</sub>
- 모든 인수 담음
- 조금 오래된 방법
