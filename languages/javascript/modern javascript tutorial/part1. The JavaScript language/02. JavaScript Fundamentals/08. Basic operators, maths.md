기본 연산자 · 수학
====

### 용어

##### 피연산자 <sub>(인수)</sub>
- 연산 수행 대상

##### 단항
- 피연산자 1개
  - ex\) `-` <sub>(음수 연산자)</sub>
    - 부호 반전
```javascript
let x = 1;
x = -x;

alert( x ); // -1
```

##### 이항
- 피연산자 2개
  - ex\) `-` <sub>(뺄셈 연산자)</sub>
    - 빼셈 연산
```javascript
let x = 1;
let y = 3;

alert( y - x ); // 2
```

### 수학 연산자

|부호|연산자명|
|:---:|---|
|`+`|덧셈|
|`-`|뺄셈|
|`*`|곱셈|
|`/`|나눗셈|
|`%`|나머지|
|`**`|거듭제곱|

### `%` <sub>(나머지 연산자)</sub>

##### 나눈 후 나머지 정수
- `a % b`
  - a &#8260; b <sub>(나눗셈)</sub> 후 나머지 <sub>(정수)</sub>
```javascript
// 5 / 2 (나눗셈) 나머지
alert( 5 % 2 ); // 1

// 8 / 3 (나눗셈) 나머지
alert( 8 % 3 ); // 2
```

### `**` <sub>(거듭제곱 연산자)</sub>

##### 거듭제곱셈
- `a ** b`
  - a<sup>b</sup>
```javascript
alert( 2 ** 2 ); // 2² → 4  (2 * 2)
alert( 2 ** 3 ); // 2³ → 8  (2 * 2 * 2)
alert( 2 ** 4 ); // 2⁴ → 16 (2 * 2 * 2 * 2)
```
- 정수 외 숫자 가능
  - ex\) 분수 <sub>(제곱근)</sub>
    - 4<sup>½</sup> → √4 <sub>(거듭제곱근)</sub>
    - 8<sup>⅓</sup> → <sub>3</sub>√8 <sub>(세제곱근)</sub>
    - 기타 등등
```javascript
// ½ (1/2) 거듭제곱 (제곱근)
alert( 4 ** (1/2) ); // 2

// ⅓ (1/3) 거듭제곱 (세제곱근)
alert( 8 ** (1/3) ); // 2
```

### `+` <sub>(이항 덧셈 연산자)</sub>

##### 슷자 덧셈
- 숫자 <sub>(피연산자)</sub> 만 전달 시

##### 문자열 병합 <sub>(연결)</sub>
- 문자열 <sub>(피연산자)</sub> 전달 시
```javascript
let s = "my" + "string";

alert(s); // mystring

/* 문자열 연결 (+ 이항 덧셈 연산자) */
alert( '1' + 2 ); // "12" (문자열)
alert( 2 + '1' ); // "21" (문자열)

// 좌 → 우 순차적 연산 진행
alert( 2 + 2 + '1' ); // "41" (문자열)

/* 수학 연산 (+ 이항 덧셈 연산자 외) */
// '2' → 숫자 (변환) 후 연산
alert( 6 - '2' );   // 4 (숫자)

// 두 피연산자 → 숫자 (변환) 후 연산
alert( '6' / '2' ); // 3 (숫자)
```

### `+` <sub>(단항 덧셈 연산자)</sub>

##### `number` 형 변환
- 숫자 외 <sub>(피연산자)</sub> 전달 시
```javascript
// 숫자 영향 無
let x = 1;

alert( +x ); //  1

let y = -2;

alert( +y ); // -2

// 숫자 외 피연산자 → number (형 변환)
alert( +true ); // 1 (boolean → number)
alert( +"" );   // 0 (string  → number)
```
- 간결한 형 변환 기능 수행
  - `+str`
  - `Number(str)` <sub>(함수)</sub>
```javascript
let s1 = "2";
let s2 = "3";

// + (이항 덧셈 연산자) 적용 전
// - 두 피연산자 → number (형 변환)
alert( +s1 + +s2 );               // 5
alert( Number(s1) + Number(s2) ); // 5
```

### [연산자 우선순위](https://developer.mozilla.org/en/JavaScript/Reference/operators/operator_precedence)

##### 연산자 실행 순서 결정
- 연산자 2개 이상 표현식
  - ex\) `1 + 2 * 2`
    1. `2 * 2` <sub>(곱셈 연산)</sub>
    2. `1 + 4` <sub>(덧셈 연산)</sub>

##### `(…)` <sub>(괄호)</sub>
- 최상위 우선순위 <sub>(연산자 우선순위 무력화)</sub>
  - ex\) `(1 + 2) * 2`
    1. `(1 + 2)` <sub>(덧셈 연산)</sub>
    2. `3 * 2` <sub>(곱셈 연산)</sub>

##### 우선순위 숫자
- 상이
  - 큰 우선순위 연산 먼저 수행
- 동일
  - 좌 → 우 연산 수행

##### 단항 \< 이항 <sub>(연산자)</sub>
- `+` <sub>(이항 덧셈)</sub> \< `+` <sub>(단항 덧셈)</sub>
- `-` <sub>(이항 뺄셈)</sub> \< `-` <sub>(단항 뺄셈)</sub>
- 기타 등등

|순위|기호|연산자 이름|
|:---:|:---:|---|
|17|`+`|단항 덧셈|
|17|`-`|단항 부정|
|16|`**`|지수|
|15|`*`|곱셈|
|15|`/`|나눗셈|
|13|`+`|덧셈|
|13|`-`|뺄셈|
|…|…|…|
|3|`=`|할당|
|…|…|…|

### `=` <sub>(할당 연산자)</sub>

##### 값 할당 <sub>(우선순위 ↓)</sub>
- 타 연산 후 할당 수행
```javascript
// 모든 계산 후 할당
let x = 2 * 2 + 1;

alert( x ); // 5
```

##### 값 할당 후 반환
- ex\) `x = value`
  - `x` <sub>(변수)</sub> 저장 후 반환 <sub>(`value`)</sub>
```javascript
let a = 1;
let b = 2;

// 지양 트릭 (명확성 · 가독성 ↓)
// - a (변수) 할당 후 반환
let c = 3 - ( a = b + 1 );

alert( a ); // 3 (b + 1)
alert( c ); // 0
```

#### `=` <sub>(할당 연산자)</sub> 체이닝

##### 다수 연산자 연결 가능
- 우측부터 평가 진행 <sub>(좌 ← 우)</sub>
  - ex\) `a = b = c = 2 + 2`
    1. `c = 2 + 2`
    2. `b = c`
    3. `a = b`
- 모든 변수 단일 값 공유
- 명확성 · 가독성 ↓ <sub>(지양)</sub>
```javascript
let a, b, c;

a = b = c = 2 + 2;

alert( a ); // 4
alert( b ); // 4
alert( c ); // 4
```
```javascript
let a, b, c;

// 지양 (명확성 · 가독성 ↓)
a = b = c = 2 + 2;

alert( a ); // 4
alert( b ); // 4
alert( c ); // 4

// 권장
c = 2 + 2;
b = c;
a = c;
```

### 복합 `=` <sub>(할당 연산자)</sub>

##### 연산자 적용 후 동일 변수 저장
- 산술 · 비트 연산자 적용 가능
  - `+=`
  - `&=`
  - 기타 등등
```javascript
// 할당
let n = 2;
n = n + 5; // 7
n = n * 2; // 14

// 복합 할당
let m = 2;
m += 5;    // 7  (m = m + 5)
m *= 2;    // 14 (m = m * 2)
```

##### `=` <sub>(할당 연산자)</sub> 우선순위 동일
- 타 연산 후 할당 수행
```javascript
let n = 2;

// *= (복합 연산자) 우측 (3 + 5) 먼저 평가
// - n *= 8
// - n  = 2 * 8
n *= 3 + 5;

alert( n ); // 16
```

### `++` · `--` <sub>(증가 · 감소 연산자)</sub>

##### 숫자 하나 증가 · 감소
```javascript
let counter = 2;

// 3 (counter = counter + 1)
++counter;

let counter = 2;

// 1 (counter = counter - 1)
counter--;
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **중요**

##### 변수에만 사용 가능
- 값 사용 시 에러
  - ex\) `5++`

<br />

##### 변수 앞 · 뒤 사용 가능
- 전위형 <sub>(`++counter`)</sub>
  - 증가 · 감소 후 새 값 반환
- 후위형 <sub>(`counter++`)</sub>
  - 증가 · 감소 후 기존값 반환
```javascript
let counter1 = 0;

alert( ++counter1 ); // 1

let counter2 = 0;

alert( counter2++ ); // 0
```

<br />

<img src="../../images/commons/icons/circle-exclamation-solid.svg" /> **타 연산자 사이 `++` · `--` <sub>(증가 · 감소 연산자)</sub>**

##### `++` · `--` <sub>(증가 · 감소 연산자)</sub>
- 표현식 중간 사용 가능
- 대다수 타 산술 연산자보다 우선순위 ↑
  - 평가 먼저 실행
- 타 연산자 함께 사용 시 가독성 ↓
  - 코드 한 줄 내 동작 하나 권장
```javascript
let counter1 = 1;
let counter2 = 1;
let counter3 = 1;

// 지양
alert( 2 * ++counter1 ); // 4
alert( 2 * counter2++ ); // 2

// 권장 (줄 분리)
alert( 2 * counter3 );
counter3++;
```

<br />

### [비트 연산자](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators)

##### 32비트 정수 변환 후 이진 연산 <sub>(대다수 언어 지원)</sub>
- 저수준 <sub>(2진 표현)</sub> 숫자 처리
  - 웹 개발 시 드물게 사용
  - 암호 처리 시 유용

|부호|연산자명|
|:---:|---|
|`&`|비트 AND|
|`\|`|비트 OR|
|`^`|비트 XOR|
|`~`|비트 NOT|
|`<<`|좌측 시프트|
|`>>`|우측 시프트|
|`>>>`|부호 없는 우측 시프트|

### `,` <sub>(쉼표 연산자)</sub>

##### 코드 한 줄 내 다수 표현식 평가 <sub>(드물게 사용)</sub>
1. 각 표현식 모두 평가
2. 마지막 표현식 평가 결과만 반환
```javascript
let a = (1 + 2, 3 + 4);

// 마지막 결과 (3 + 4) 할당
// - 앞 결과 (1 + 2) 버려짐
alert( a ); // 7
```

<br />

<img src="../../images/commons/icons/circle-exclamation-solid.svg" /> **매우 낮은 `,` <sub>(쉼표 연산자)</sub> 우선순위**

##### 최하위 우선순위
- `,` <sub>(쉼표 연산자)</sub> \< `=` <sub>(할당 연산자)</sub>
  - `=` <sub>(할당 연산자)</sub> 먼저 수행
  - `(…)` <sub>(괄호)</sub> 역할 중요
```javascript
/*
 (…) (괄호) 없는 진행 순서
 ① a = 3, 7 (덧셈)
 ② a = 3    (할당)
 ③ 7 무시    (쉼표)
 */
let a = 1 + 2, 3 + 4;

alert( a ); // 3
```

<br />

##### 용도
- 한 줄 내 다수 동작 처리 <sub>(복잡한 구조)</sub>
  - 다수 JS 프레임워크 내 사용
- 가독성 ↓ <sub>(사용 시 주의)</sub>
```javascript
// 한 줄 내 3개 연산 수행
for (a = 1, b = 3, c = a * b; a < 10; a++) { … }
```

<br />

## <img src="../../images/commons/icons/circle-check-solid.svg" /> 과제

### 전위 · 후위형

##### 코드 실행 후 변숫값 예측
- `a` · `b` · `c` · `d`
```javascript
let a = 1, b = 1;
let c = ++a; // ?
let d = b++; // ?
```

<br />

<img src="../../images/commons/icons/circle-answer.svg" />

|변수|값|
|:---:|:---:|
|`a`|`2`|
|`b`|`2`|
|`c`|`2`|
|`d`|`1`|

```javascript
let a = 1, b = 1;

// 전위형 (증가 후 값 반환)
alert( ++a ); // 2

// 후위형 (증가 전 값 반환)
alert( b++ ); // 1

alert( a ); // 2
alert( b ); // 2
```

<hr />

### 할당 후 결과 예측하기

##### 코드 실행 후 변숫값 예측
- `a` · `x`
```javascript
let a = 2;
let x = 1 + (a *= 2);
```

<br />

<img src="../../images/commons/icons/circle-answer.svg" />

|변수|값|평가|
|:---:|:---:|---|
|`a`|`4`|`2` <sub>(기존값)</sub> * `2`|
|`x`|`5`|`1 + 4`|

<hr />

### 형 변환

##### 표현식 결과 예측
```javascript
"" + 1 + 0
"" - 1 + 0
// ----------
true + false
// ----------
 6  / "3"
"2" * "3"
// ----------
 4  + 5 + "px"
"$" + 4 + 5
// ----------
"4"   - 2
"4px" - 2
// ----------
7 / 0
// ----------
"  -9  "  + 5
"  -9  "  - 5
// ----------
null      + 1
undefined + 1
// ----------
" \t \n"  - 2
```

<br />

<img src="../../images/commons/icons/circle-answer.svg" />

```javascript
/* `+` (이항 덧셈 연산자)
 피연산자 중 문지열 有
 - 나머지 피연산자 → string (형 변환)
   - 1 (숫자) → "1" (문자열)
   - 0 (숫자) → "0" (문자열)
 */
"" +  1  +  0  == "10"
"" + "1" + "0" == "10" // 최종 식

/* `-` (뺄셈 연산자)
 number 인수만 사용
 - 나머지 피연산자 → number (형 변환)
   - "" (빈 문자열) → 0 (숫자)
 */
"" - 1 + 0 == -1
0  - 1 + 0 == -1 // 최종 식

/* `+` (이항 덧셈 연산자)
 피연산자 중 문자열 無
 - 나머지 피연산자 → number (형 변환)
   - true  → 1 (숫자)
   - false → 0 (숫자)
 */
true + false == 1
 1   +   0   == 1 // 최종 식

/* 산술 연산자
 number 인수만 사용
 - 나머지 피연산자 → number (형 변환)
   - "3" (문자열) → 3 (숫자)
   - "2" (문자열) → 2 (숫자)

 */
 6  / "3" == 2
 6  /  3  == 2 // 최종 식

"2" * "3" == 6
 2  *  3  == 6 // 최종 식

/* `+` (이항 덧셈 연산자)
 좌측 연산부터 평가
 */
//  ①   ②
 4  + 5 + "px" == "9px"
    9   + "px" == "9px" // 최종 식

//  ①   ②
"$" + 4 + 5    == "$45"
  "$4"  + 5    == "$45" // 최종 식

/* `-` (뺄셈 연산자)
 number 인수만 사용
 - 나머지 피연산자 → number (형 변환)
   - "4" (문자열) → 4 (숫자)
 */
"4" - 2 == 2
 4  - 2 == 2 // 최종 식

/* `-` (뺄셈 연산자)
 불가능 연산
 - NaN 반환
 */
"4px" - 2 == NaN

/* `/` (나눗셈 연산자)
 숫자 나누기 0 (n / 0)
 - 무한대 (∞) 반환
 */
7 / 0 == Infinity

/* `+` (이항 덧셈 연산자)
 피연산자 중 문지열 有
 - 나머지 피연산자 → string (형 변환)
   - 5 (숫자) → "5" (문자열)
 */
"  -9  " +  5  == "  -9  5"
"  -9  " + "5" == "  -9  5" // 최종 식

/* `-` (뺄셈 연산자)
 number 인수만 사용
 - 나머지 피연산자 → number (형 변환)
   - 문자열 내 앞 · 뒤 공백 제거
     - "  -9  " (문자열) → -9 (숫자)
 */
"  -9  " - 5 == -14
   -9    - 5 == -14 // 최종 식

/* `+` (이항 덧셈 연산자)
 null → number (형 변환)
 - null → 0
 */
null + 1 == 1
 0   + 1 == 1 // 최종 식

/* `+` (이항 덧셈 연산자)
 undefiend → number (형 변환)
 - undefined → NaN
 */
undefined + 1 == NaN
   NaN    + 1 == NaN // 최종 식

/* `-` (뺄셈 연산자)
 number 인수만 사용
 - 나머지 피연산자 → number (형 변환)
   - 문자열 내 앞 · 뒤 공백 제거
     - " \t \n" (공백 문자 + 공백) → "" (빈 문자열) → 0 (숫자)
 */
" \t \n" - 2 == -2
    0    - 2 == -2 // 최종 식
```

<hr />

### 덧셈 고치기

##### 프롬프트 창
1. 사용자 숫자 2개 입력 후
2. 두 숫자 합 표시

##### 비정상 동작
- `"12"` <sub>(문자열)</sub> 반환
  - 기본값 연산 결과

##### 동작 코드 수정
- `3` <sub>(숫자)</sub> 반환
  - 정상 동작 시 연산 결과
```javascript
let a = prompt("덧셈할 첫 번째 숫자를 입력해주세요.", 1);
let b = prompt("덧셈할 두 번째 숫자를 입력해주세요.", 2);

alert(a + b); // 12
```

<br />

<img src="../../images/commons/icons/circle-answer.svg" />

##### `prompt` <sub>(함수)</sub>
- 사용자 입력 → 문자열 변환 후 반환
  - `1` <sub>(숫자 · 기본값)</sub> → `"1"` <sub>(문자열)</sub>
  - `2` <sub>(숫자 · 기본값)</sub> → `"2"` <sub>(문자열)</sub>
```javascript
let a = prompt("1번째 숫자 입력", 1);
// let a = "1"; (문자열 할당)

let b = prompt("2번째 숫자 입력", 2);
// let b = "2"; (문자열 할당)

alert(a + b); // "12" (문자열)
// alert("1" + "2");
```

##### 덧셈 연산 전 형 변환 <sub>(`string` → `number`)</sub>
- `+` <sub>(단항 덧셈 연산자)</sub>
- `Number()` <sub>(생성자 함수)</sub>
```javascript
// 변수 할당 시 형 변환
let a =       +prompt("1번째 숫자 입력", 1);
let b = Number(prompt("2번째 숫자 입력", 2));

alert(a + b); // 3

let c = prompt("1번째 숫자 입력", 1);
let d = prompt("2번째 숫자 입력", 2);

// 덧셈 연산 시 형 변환
alert(+c + Number(d)); // 3
```
