`??` <sub>(nullish 병합 연산자)</sub>
====

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **최근 명세서 추가**

- 구식 브라우저 폴리필 필요

<br />

##### 1번째 '확정값' 검색
- `null` · `undefined` 외 값

##### `a ?? b`
- `a` ≠ `null` · `undefined` 평가
  - `true` 평가 시 `a` 반환
  - `false` 평가 시 `b` 반환
- 모든 피연산자 `null` · `undefined` 평가 시
  - 마지막 피연산자 반환
```javascript
// 동일 동작
x =  a ?? b
x = (a !== null && a !== undefined) ? a : b;
```

##### 변수 · 표현식 구성 목록 내 1번째 확정값 검색
- 다수 `null` · `undefined` 가능 변수
  - 확정값 저장 변수 검색
  - 전부 `null` · `undefined` 값 평가 시
    - 기본값 <sub>(마지막 피연산자)</sub> 반환
```javascript
let firstName = null;
let lastName  = null;
let nickName  = "바이올렛";

// 3번째 피연산자 ≠ null · undefined
// - 바이올렛
//      null         null      "바이올렛"
alert(firstName ?? lastName ?? nickName ?? "익명의 사용자");
```

### `||` <sub>(OR)</sub> vs `??` <sub>(nullish 병합)</sub>

|연산자|검색|
|:---:|---|
|`\|\|`|1번째 truthy 값|
|`??`|1번째 정의된 값|

##### `0` 구분 시 중요한 차이
- `0` 할당 가능 변수
  - `??` 사용 적합

|값|`\|\|`|`??`|
|---|:---:|:---:|
|`null`|X|X|
|`undefined`|X|X|
|`NaN`|X|O|
|`0` <sub>(숫자)</sub>|X|O|
|`""` <sub>(빈 문자열)</sub>|X|O|

```javascript
// 값 미정의 시 100
let height1 = height1 ?? 100;

let height2 = 0;
alert(height2 || 100); // 100
alert(height2 ?? 100); // 0
```

### 우선순위
- 5 <sub>(낮은 편)</sub>
- `=` · `?` \< `??` \< 대대수 연산자

##### 복잡한 표현식
- `(…)` <sub>(괄호)</sub> 사용
```javascript
let height = null;
let width  = null;

// `(…)` (괄호) 사용
let area = (height ?? 100) * (width ?? 50);
alert(area); // 5000
```

##### `&&` · `||` 함께 사용 X
- 안정성 관련 이슈
- `(…)` <sub>(괄호)</sub> 사용 시 가능
```javascript
// SyntaxError: Unexpected token '??'
let x =  1 && 2  ?? 3;

// 정상 작동
let x = (1 && 2) ?? 3;
```

<br />

요약
====

##### `??` <sub>(nullish 병합 연산자)</sub>
- 피연산자 중 '값이 할당된' 변수 빠르게 검색
- 변수 기본값 할당 용도
```javascript
// height == null · undefined
// - 100 할당
height = height ?? 100;
```

##### 우선순위
- 대다수 연산자보다 ↓
- `?` · `=` 보다 ↑

##### `||` · `&&` 함께 사용 X
- 함께 사용 필요 시
  - `(…)` <sub>(괄호)</sub> 사용
