`while` · `for` 반복문
=================

### `while` <sub>(반복문)</sub>

```javascript
while (condition) {

  // 반복문 본문 (body) 코드

}
```
```javascript
let i = 0;
while (i < 3) {
  alert( i ); // 0, 1, 2
  i++;
}
```
- 반복문 조건
  - 모든 종류 표현식 · 변수 가능
  - 평가 시 불린형 변환
```javascript
let i = 3;

// 0 : falsy
while (i) { // while (i != 0)
  alert( i );
  i--;
}
```

<br />

<img class="icon" src="../../images/commons/icons/circle-exclamation-solid.svg" /> **본문 한 줄 : 중괄호 생략 가능</sub>**

```javascript
let i = 3;
while (i) alert(i--);
```

<br />

### `do…while` <sub>(반복문)</sub>
- 조건 위치
  - 반복문 본문 아래
- 본문 먼저 실행 후 조건 확인
  - 조건 truthy
    - 본문 계속 실행
- 본문 최소한 1번 실행
```javascript
do {

  // 반복문 본문 (body)

} while (condition);
```
```javascript
let i = 0;
do {
  alert( i );
  i++;
} while (i < 3);
```

### `for` <sub>(반복문)</sub>
```javascript
for (begin; condition; step) {

  // 반복문 본문 (body)

}
```
```javascript
for (let i = 0; i < 3; i++) {
  alert(i); // 0, 1, 2
}
```

<br />

<img class="icon" src="../../images/commons/icons/circle-exclamation-solid.svg" /> **인라인 변수 선언**

- `i` <sub>(카운터 변수)</sub>
  - 반복문 안 선언
  - 반복문 안에서만 접근 가능
```javascript
for (let i = 0; i < 3; i++) {
  alert(i); // 0, 1, 2
}
alert(i); // Error: i is not defined
```
- 기존 정의된 변수 사용 가능
```javascript
let i = 0;
for (i = 0; i < 3; i++) { // 기존 정의된 변수 사용
  alert(i); // 0, 1, 2
}
alert(i); // 3
```

#### 구성 요소 생략
```javascript
let i = 0;
for (; i < 3; i++) {
  alert( i ); // 0, 1, 2
}
```
```javascript
let i = 0;
for (; i < 3;) { // while (i < 3)
  alert( i++ );  // 0, 1, 2
}
```
- 모든 구성 요소 생략
  - 무한 반복문
```javascript
for (;;) {
  // 끊임 없이 본문 실행
}
```

<br />

### 반복문 빠져나오기

##### `break` <sub>(지시자)</sub>
```javascript
let sum = 0;
while (true) {
  let value = +prompt("숫자를 입력하세요.", '');
  if (!value) break;
  sum += value;
}
alert( '합계: ' + sum );
```

### 다음 반복으로 넘어가기

##### `continue` <sub>(지시자)</sub>
- 전체 반복문 중단 X
- 현재 실행 중인 이터레이션 중단 후
  - 다음 이터레이션 강제 실행
- 현재 반복 중단 → 다음 반복 실행
```javascript
for (let i = 0; i < 10; i++) {

  // if (문) 조건 truthy
  // - 남아있는 본문 실행 X
  if (i % 2 == 0) continue;
  alert(i); // 1, 3, 5, 7, 9
}
```

<br />

<img class="icon" src="../../images/commons/icons/circle-exclamation-solid.svg" /> **`continue` : 중첩 감소 도움**

- 위 예시 `continue` <sub>(지시자)</sub> 미사용 시
```javascript
for (let i = 0; i < 10; i++) {

  /*
   중첩 레벨 1개 증가
   if (문) 코드량 ↑
   - 전체 가독성 ↓
   */
  if (i % 2) {
    alert( i );
  }
}
```

<br />

<img class="icon" src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **`?` 오른쪽 : `break` · `continue` X**

##### `?` <sub>(3항 연산자)</sub>
- 문법 구조
- 표현식 X <sub>(지시자 사용 X)</sub>
  - `break`
  - `continue`
  - 기타 등등
```javascript
if (i > 5) {
  alert(i);
} else {
  continue;
}

↓↓↓

(i > 5) ? alert(i) : continue; // 문법 에러 발생
```

<br />

### `break` · `continue` · `레이블`

##### 레이블 <sub>(`label`)</sub>
- 중첩 반복문 한 번에 빠져나옴
```javascript
labelName: for ( … ) {
  …
}
```
```javascript
outer: for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    let input = prompt(`(${i},${j})의 값`, '');

    // outer (레이블) 붙은 반복문 찾은 후
    // - 해당 반복문 빠져나옴
    if (!input) break outer;
    …
  }
}
alert('완료!');
```
- 별도 줄 가능
```javascript
outer:
for (let i = 0; i < 3; i++) {
  …
}
```
- `continue` 함께 사용 시
  - 레이블 붙은 반복문의 다음 이터레이션 실행

<br />

<img class="icon" src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **레이블 : 마음대로 점프 X**

- `break` · `continue` <sub>(지시자)</sub>
  - 반복문 안에서만 사용
- 레이블
  - `break` · `continue` <sub>(지시자)</sub> 위에 위치
```javascript
break label; // 아래 for 문으로 점프 X
label: for ( … )
```

<br />

## 요약
지금까지 세 종류의 반복문에 대해 살펴보았습니다.
- `while`
  - 각 반복이 시작하기 전에 조건을 확인합니다.
- `do..while`
  - 각 반복이 끝난 후에 조건을 확인합니다.
- `for (;;)`
  - 각 반복이 시작하기 전에 조건을 확인합니다. 추가 세팅을 할 수 있습니다.

‘무한’ 반복문은 보통 `while(true)`를 써서 만듭니다. 무한 반복문은 여타 반복문과 마찬가지로 `break` 지시자를 사용해 멈출 수 있습니다.

현재 실행 중인 반복에서 더는 무언가를 하지 않고 다음 반복으로 넘어가고 싶다면 `continue` 지시자를 사용할 수 있습니다.

반복문 앞에 레이블을 붙이고, `break`/`continue에` 이 레이블을 함께 사용할 수 있습니다. 레이블은 중첩 반복문을 빠져나와 바깥의 반복문으로 갈 수 있게 해주는 유일한 방법입니다.

<br />

## <img class="icon" src="../../images/commons/icons/circle-check-solid.svg" /> 과제

### 반복문의 마지막 값
아래 코드를 실행했을 때 얼럿 창에 마지막으로 뜨는 값은 무엇일까요? 이유도 함께 설명해보세요.
```javascript
let i = 3;

while (i) {
  alert( i-- );
}
```

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

답: `1`
```javascript
let i = 3;

while (i) {
  alert( i-- );
}
```

반복이 하나씩 끝날 때마다 i는 1씩 줄어듭니다. while(i)은 i = 0일 때 멈춥니다.

따라서 전체 반복문은 아래 순서를 따라 실행됩니다.
```javascript
let i = 3;

alert(i--); // 3이 출력되고 i는 2로 줄어듭니다.

alert(i--) // 2가 출력되고 i는 1로 줄어듭니다.

alert(i--) // 1이 출력되고 i는 0으로 줄어듭니다.

// i가 0이 되었기 때문에 while(i)는 종료됩니다.
```

<hr />

### `while` 반복문의 출력값 예상하기
`while` 반복문이 순차적으로 실행될 때마다 얼럿 창에 어떤 값이 출력될지 예상해보세요.

아래 두 예시는 같은 값을 출력할까요?

전위형 증가 연산자를 사용한 경우(`++i`):
```javascript
let i = 0;
while (++i < 5) alert( i );
```

후위형 증가 연산자를 사용한 경우(`i++`):
```javascript
let i = 0;
while (i++ < 5) alert( i );
```

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

이 문제는 비교 연산자와 후위/전위형 연산자를 함께 사용하는 경우 어떤 차이가 있는지 보여줍니다.

1. 전위형 증가 연산자를 사용한 경우엔 1부터 4까지 출력됩니다.
```javascript
let i = 0;
while (++i < 5) alert( i );
```

`++i`는 `i`를 먼저 증가시키고 새로운 값을 반환하기 때문에 첫 번째 `while` 반복문에선 `1`과 `5`를 비교(`1 < 5`)하고, 얼럿 창엔 `1`이 출력됩니다.

`1`에 이어서 `2, 3, 4…`이 출력됩니다. `i` 앞에 `++`가 붙어있기 때문에 `5`는 항상 증가 이후의 값과 비교됩니다.

`i = 4` 이후에 `i`의 값이 `5`로 증가하면 `while(5 < 5)`안의 비교가 실패하기 때문에 반복문은 멈춥니다. 따라서 `5`는 출력되지 않습니다.

2. 후위형 증가 연산자를 사용한 경우엔 `1`부터 `5`까지 출력됩니다.
```javascript
let i = 0;
while (i++ < 5) alert( i );
```

후위 증가 연산자를 적용하면 `i++`는 `i`를 증가시키긴 하지만 기존 값을 반환합니다. 따라서 첫 번째 `while` 반복문에선 `0`과 `5`를 비교(`0 < 5`)합니다. 이 점이 전위 증가 연산자와의 차이입니다.

그런데 `alert`문은 조건문과 별개의 문이므로 얼럿창엔 `1`이 출력됩니다. `i`는 이미 증가한 이후이기 때문이죠.

`1`이 출력된 이후에 `2, 3, 4…`가 이어서 출력됩니다.

`i = 4`일 때 잠시 생각을 가다듬어 봅시다. 전위 증가 연산자(`++i`)를 사용하면 값이 먼저 증가하기 때문에 `5`와 `5`를 비교하게 되는데, 여기선 후위 증가 연산자(`i++`)를 사용하고 있으므로 `i`는 증가하지만 기존 값인 `4`가 비교에 사용됩니다. 따라서 `while(4 < 5)`가 되고, 해당 조건은 참이므로 하단 블록이 실행되어 `alert` 창이 뜨게 됩니다.

다음 반복문은 `while(5 < 5)`이므로 마지막 출력되는 값은 `5`가 됩니다.

<hr />

### `'for'` 반복문의 출력값 예상하기
`for` 반복문이 순차적으로 실행될 때마다 얼럿 창에 어떤 값이 출력될지 예상해보세요.

아래 두 예시는 같은 값을 출력할까요?

1. 후위형 증가 연산자를 사용한 경우(`i++`):
```javascript
for (let i = 0; i < 5; i++) alert( i );
```

2. 전위형 증가 연산자를 사용한 경우(`++i`):
```javascript
for (let i = 0; i < 5; ++i) alert( i );
```

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

두 경우 모두 `0`부터 `4`까지 출력됩니다.
```javascript
for (let i = 0; i < 5; ++i) alert( i );

for (let i = 0; i < 5; i++) alert( i );
```

`for`문의 알고리즘을 떠올려보면 쉽게 추론할 수 있는 문제입니다.

1. 모든 작업이 시작되기 전 일단 `i = 0`입니다.
2. `i < 5` 조건을 만족하는지 확인합니다.
3. 위 조건이 `true`이면 반복문의 본문 `alert(i)`가 실행되고, 그 이후 `i++`가 실행됩니다.

`i++`는 위 알고리즘의 두 번째 단계(조건 확인)와 별개로 실행됩니다. 전혀 다른 구문이기 때문이죠.

증가 연산자가 반환하는 값은 (2) 에서 쓰이지 않기 때문에 `i++`와 `++i`에 차이가 없습니다.

<hr />

### `for` 반복문을 이용하여 짝수 출력하기
`for` 반복문을 이용하여 `2`부터 `10`까지 숫자 중 짝수만을 출력해보세요.

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

해답
```javascript
for (let i = 2; i <= 10; i++) {
  if (i % 2 == 0) {
    alert( i );
  }
}
```

나머지 연산자 `%`를 사용하면 짝수인지를 확인할 수 있습니다.

<hr />

### `'for'` 반복문을 `'while'` 반복문으로 바꾸기
`for` 반복문을 `while` 반복문으로 바꾸되, 동작 방식에는 변화가 없도록 해보세요. 출력 결과도 동일해야 합니다.
```javascript
for (let i = 0; i < 3; i++) {
  alert( `number ${i}!` );
}
```

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

```javascript
let i = 0;
while (i < 3) {
  alert( `number ${i}!` );
  i++;
}
```

<hr />

### 사용자가 유효한 값을 입력할 때까지 프롬프트 창 띄우기
사용자가 `100`보다 큰 숫자를 입력하도록 안내하는 프롬프트 창을 띄워보세요. 사용자가 조건에 맞지 않은 값을 입력한 경우 반복문을 사용해 동일한 프롬프트 창을 띄워줍시다.

사용자가 `100`을 초과하는 숫자를 입력하거나 취소 버튼을 누른 경우, 혹은 아무것도 입력하지 않고 확인 버튼을 누른 경우엔 더는 프롬프트 창을 띄워주지 않아도 됩니다.

사용자가 오직 숫자만 입력한다고 가정하고 답안을 작성하도록 해봅시다. 숫자가 아닌 값이 입력되는 예외 상황은 처리하지 않아도 됩니다.

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

```javascript
let num;

do {
  num = prompt("100을 초과하는 숫자를 입력해주세요.", 0);
} while (num <= 100 && num);
```

`do..while`반복문을 사용해 아래 두 조건이 모두 truthy인 경우 프롬프트 창이 뜨게 하면 됩니다.

`num <= 100`인지 확인하기. `100`보다 작거나 같은 값을 입력한 경우 프롬프트 창이 떠야 합니다.
`num`이 `null`이나 빈 문자열인지 확인하기. `num`이 `null`이나 빈 문자열이면 `&& num`이 거짓이 되므로 `while` 반복문이 종료됩니다.

참고: `num`이 `null`인 경우 `num <= 100`은 `true`가 되므로 두 번째 조건이 없으면 취소 버튼을 눌러도 반복문이 계속해서 실행됩니다. 따라서 위 두 조건을 모두 확인해야 합니다.

<hr />

### 소수 출력하기
[소수(prime number)](https://ko.wikipedia.org/wiki/%EC%86%8C%EC%88%98_(%EC%88%98%EB%A1%A0))는 자신보다 작은 두 개의 자연수를 곱하여 만들 수 없는 1보다 큰 자연수입니다.

다시 말해서 1과 그 수 자신 이외의 자연수로는 나눌 수 없는 자연수를 소수라고 부르죠.

5는 2나 3, 4로 나눌 수 없기 때문에 소수입니다. 5를 이들 숫자로 나누면 나머지가 있기 때문이죠.

`2`부터 `n`까지의 숫자 중 소수만 출력해주는 코드를 작성해봅시다.

`n = 10`이라면 결과는 `2,3,5,7`이 되어야겠죠.

주의: 작성한 코드는 임의의 숫자 `n`에 대해 동작해야 합니다.

<br />

<img class="icon" src="../../images/commons/icons/circle-answer.svg" />

소수를 판단하는 알고리즘은 다양합니다.

먼저 중첩 반복문을 사용한 알고리즘을 살펴봅시다.
```javascript
범위 내 모든 숫자 i에 대해서 {
  1과 i 사이에 제수가 있는지를 확인
  있으면 => 소수가 아님
  없으면 => 소수이므로 출력해줌
}

```

레이블을 사용해 위 알고리즘을 구현한 코드는 다음과 같습니다.
```javascript
let n = 10;

nextPrime:
for (let i = 2; i <= n; i++) { // 각 i에 대하여 반복문을 돌림

  for (let j = 2; j < i; j++) { // 제수(나눗수)를 찾음
    if (i % j == 0) continue nextPrime; // 소수가 아니므로 다음 i로 넘어감
  }

  alert( i ); // 소수
}
```

위에서 사용한 알고리즘은 최적화할 부분이 많습니다. 제수를 `2`와 `i`의 제곱근 사이에서 찾으면 좀 더 나아지겠죠. 아주 큰 `n`에 대해서 [이차 체(Quadratic sieve)](https://ko.wikipedia.org/wiki/%EC%9D%B4%EC%B0%A8_%EC%B2%B4)나 [수 체(General number field sieve)](https://en.wikipedia.org/wiki/General_number_field_sieve)와 같이 좀 더 어려운 수학과 복잡한 알고리즘을 이용해 소수 검색 알고리즘을 개선할 수 있을 겁니다.
