`?.` <sub>(옵셔널 체이닝)</sub>
====

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **최근 명세서 추가**

- 구식 브라우저 폴리필 필요

<br />

### 필요 이유

##### 부재 정보 접근 시 에러
```javascript
let user = {}; // 주소 정보 부재 사용자

// TypeError: Cannot read property 'street' of undefined
alert(user.address.street);
```
```javascript
// querySelector (메서드) null 반환
let myElement = document.querySelector('.my-element');

// TypeError: Cannot read properties of null (reading 'innerHTML')
let html = myElement.innerHTML;
```

##### 부재 여부 확인
- `&&` <sub>(AND 연산자)</sub> 사용 <sub>(과거)</sub>
  - 객체 · 프로퍼티 유무 여부 확인
  - 코드량 ↑
```javascript
let user = {}; // 주소 정보 부재 사용자

// undefined (에러 X)
alert( user && user.address && user.address.street );
```

### `?.` <sub>(옵셔널 체이닝)</sub> 등장

##### 앞 평가 대상 `null` · `undefined` 여부 검사
- `null` · `undefined` 일치 시
  - 평가 중단 · `undefined` 반환
```javascript
let user = {}; // 주소 정보 부재 사용자

// undefined (에러 X)
alert( user?.address?.street );
```

##### 동작 확장 X
- '앞' 평가 대상에만 동작
```javascript
// 객체 無
let user = null;

// undefined (에러 X)
alert( user?.address );

// undefined (에러 X)
// - user (객체) 존재 · address (프로퍼티) 부재 시 에러
alert( user?.address.street );
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **`?.` <sub>(옵셔널 체이닝)</sub> 남용 지양**

##### 선택 값에만 사용
- 필수값 대상 부적절 <sub>(값 미할당 실수 가능성 ↑)</sub>
```javascript
// user    (필수값)
// address (선택 값)
user.address?.street;
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **앞 평가 대상 <sub>(변수)</sub> 선언 필수**

##### 선언 완료 변수 <sub>(`let` · `const` 등)</sub> 에만 동작
- 미선언 변수
  - 평가 시 에러
```javascript
// ReferenceError: user is not defined
user?.address; // user (변수) 미선언
```

<br />

### 단락 평가

##### 좌측 <sub>(앞)</sub> 평가 대상 값 부재 시 즉시 평가 중단
- 우측 부가 동작 <sub>(함수 호출 등)</sub> 미발생
```javascript
let user = null;
let x = 0;

user?.sayHi(x++); // 함수 호출 X
alert(x);         // 0 (값 증가 X)
```

### `?.()` <sub>(함수)</sub> vs `?.[]` <sub>(프로퍼티)</sub>

##### `?.` <sub>(옵셔널 체이닝)</sub> ≠ 연산자
- 특별 문법 구조체
  - 함수 · `[…]` <sub>(대괄호)</sub> 함께 동작

##### `?.()` <sub>(함수)</sub>
- 유무 여부 불확실한 함수 호출
```javascript
let user1 = {
  admin() {
    alert("관리자 계정입니다.");
  }
}

let user2 = {};  // admin (메서드) 無

user1.admin?.(); // admin (메서드) 호출
user2.admin?.(); // 평가 중단 (에러 X)
```

##### `?.[]` <sub>(프로퍼티)</sub>
- 유무 여부 불확실한 프로퍼티 접근
- `?.prop` → `?.[prop]`
```javascript
let user1 = { firstName: "Violet" };
let user2 = null;
let key   = "firstName";

alert( user1?.[key] ); // Violet
alert( user2?.[key] ); // undefined

// undefined
alert( user1?.[key]?.something?.not?.existing);
```

##### `delete` <sub>(연산자)</sub> 조합
```javascript
// user (객체) 존재 시
// - user.name (프로퍼티) 삭제
delete user?.name;
```

<br />

<img src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **할당 불가능**

##### `=` <sub>(할당 연산자)</sub> 좌측 사용 불가능
```javascript

// SyntaxError: Invalid left-hand side in assignment
user?.name = "Violet";
// undefined = "Violet"
```

<br />

요약
====

#### `?.` <sub>(옵셔널 체이닝)</sub> 문법 <sub>(3가지)</sub>

##### a. `obj?.prop`
- `obj` <sub>(객체)</sub> 유무 여부 확인
  - 有 → `obj.prop` 반환
  - 無 → `undefined` 반환

##### b. `obj?.[prop]`
- `obj` <sub>(객체)</sub> 유무 여부 확인
  - 有 → `obj[prop]` 반환
  - 無 → `undefined` 반환
##### c. `obj.method?.()`
- `method` <sub>(메서드)</sub> 유무 여부 확인
  - 有 → `obj.method()` 호출
  - 無 → `undefined` 반환

꼭 있어야 하는 값인데 없는 경우에 ?.을 사용하면 프로그래밍 에러를 쉽게 찾을 수 없으므로 이런 상황을 만들지 말도록 합시다.

##### 좌측 평가 대상 확인
- `null` · `undefined` 여부
  - 불일치 시 평가 계속 진행

##### 연산자 체인
- 중첩 프로퍼티 안전하게 접근 가능

##### 선택 값 대상 사용
- 필수값 대상 부적절

##### 필수값에 사용
- 프로그래밍 에러 찾기 어려움
