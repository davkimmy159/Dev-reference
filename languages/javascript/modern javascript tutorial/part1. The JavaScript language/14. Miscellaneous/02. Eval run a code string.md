Eval: 문자열 코드 실행하기
========================

##### `eval` <sub>(내장 함수)</sub>
- 문자열 형태 코드 실행

##### 문법
```javascript
let result = eval(code);
```
```javascript
let code = 'alert("Hello")';
eval(code); // Hello
```

##### 긴 문자열
- 줄 바꿈
- 함수 선언
- 변수
- 기타 등등

##### 마지막 구문 결과 == `eval` <sub>(내장 함수)</sub> 결과
```javascript
let value = eval('1+1');
alert(value); // 2

let value = eval('let i = 0; ++i');
alert(value); // 1
```

##### `eval` <sub>(내장 함수)</sub> 로 둘러싼 코드
- 현재 렉시컬 환경에서 실행
  - 외부 변수 접근 가능
```javascript
let a = 1;

function f() {
  let a = 2;

  eval('alert(a)'); // 2
}

f();
```

##### 외부 변수 변경
```javascript
let x = 5;
eval("x = 10");
alert(x); // 10, 변경된 값
```

##### 엄격 모드 `eval` <sub>(내장 함수)</sub>
- 자체 렉시컬 환경 보유
- `eval` 내부 선언 함수 · 변수
  - 외부에서 접근 X
```javascript
// 참고 : 실행 가능한 모든 예시
// - 'use strict' 적용

eval("let x = 5; function f() {}");

alert(typeof x); // undefined (없는 변수)
// 함수 f도 읽을 수 없음
```

##### `use strict` 미적용 시 `eval` <sub>(내장 함수)</sub>
- 자체 렉시컬 환경 X
  - 외부 `x` · `f` 접근 가능

### `eval` <sub>(내장 함수)</sub> 사용하기
- 모던 프로그래밍에서 드물게 사용
  - "eval is evil"
- 과거
  - JS 기능 부실
- 현재
  - 강력한 언어

#### `eval` : 외부 변수 접근 시 부작용 발생

##### 코드 압축기
- JS 파일 압축
  - 지역 변수명 축약

##### `eval` 내부 코드 접근 가능 모든 변수
- 이름 변경 X
- 코드 압축률에 부정적인 영향

##### `eval` 내부에서 외부 지역 변수 사용
- 코드 유지 보수 난이도 ↑
- 좋지 않은 프로그래밍 관습

##### 문제 예방법
- `eval` 로 감싼 코드
  - 외부 변수 미사용 시
    - `eval` X
    - `window.eval( … )` 호출

이렇게 하면 eval 내의 코드가 전역 스코프에서 실행됩니다.