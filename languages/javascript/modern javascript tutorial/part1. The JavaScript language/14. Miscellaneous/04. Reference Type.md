참조 타입
========

<img class="icon" src="../../images/commons/icons/triangle-exclamation-solid.svg" /> **심화 학습**

- 특정 에지 케이스 <sub>(edge case)</sub>

##### 복잡한 상황에서 메서드 호출 시
- `this` 값 잃어버리는 경우 발생
```javascript
let user = {
  name: "John",
  hi() { alert(this.name); },
  bye() { alert("Bye"); }
};

user.hi(); // John (간단한 호출)

/*
 name 따라 다른 메서드 호출
 - user.hi
 - user.bye
 에러 발생 (this == undefined)
 - TypeError: Cannot read property 'name' of undefined
 */
(user.name == "John" ? user.hi : user.bye)();
```

### 참조 타입 자세히 알아보기

##### `obj.method()` : 연산 2개
1. `.` <sub>(점 연산자)</sub>
    - `obj.method` <sub>(객체 프로퍼티)</sub> 접근
2. `()` <sub>(괄호 연산자)</sub>
    - 접근한 프로퍼티 <sub>(메서드)</sub> 실행

##### 두 연산 각각 별도 줄 실행
```javascript
let user = {
  name: "John",
  hi() { alert(this.name); }
}

// 1. 객체 프로퍼티 접근
let hi = user.hi;

// 2. 접근한 프로퍼티 실행
//    - 에러 발생 (this == undefined)
hi();
```
##### `hi = user.hi`
- 함수 → 변수 할당
- 마지막 줄과 완전히 독립적으로 동작
  - `this` 값 저장 X

##### `user.hi()` 동작 : 속임수 사용 <sub>(JS)</sub>
- `.` <sub>(점 연산자)</sub> 반환 값
  - 함수 X
  - 참조 타입 <sub>(Reference Type)</sub> 값

##### 참조 타입 <sub>(Reference Type)</sub> 값
- 명세서에서만 사용되는 타입
  - 개발 시 사용 X

##### 참조 타입에 속하는 값 : 조합 형태
- `base`
  - 객체
- `name`
  - 프로퍼티명
- `strict`
  - 엄격 모드에서 `true`

##### `user.hi` <sub>(점 프로퍼티 접근)</sub> 반환 값
- 함수 X
- 참조형 <sub>(참조 타입)</sub> 값

```javascript
// 엄격 모드
// 참조형 값
(user, "hi", true)
(base, name, strict)
```
##### 참조형 값 : `()` <sub>(괄호 연산자)</sub> 사용해 호출 시
1. 객체 · 메서드 연관 모든 정보 받음
2. `this` 값 결정 <sub>(연관 정보 기반)</sub>
    - `this(=user)`

##### 참조 타입 : '중개인' 역할
- `.` <sub>(점 연산자)</sub> 연산에서 알아낸 정보
  - `()` <sub>(괄호 연산자)</sub> 로 전달

##### `.` <sub>(점 연산자)</sub> 연산 이외 연산 <sub>(할당 연산 등)</sub>
- 참조 타입 통째로 버림
- `user.hi` 값 <sub>(함수)</sub> 만 받아 전달
  - `this` 정보 사라짐

##### 참조 타입 전달 <sub>(this 값 전달)</sub>
- `.` <sub>(점 연산자)</sub>
  - `obj.method()`
- `[]` <sub>(대괄호)</sub>
  - `obj[method]()`
- `bind` <sub>(함수 메서드)</sub>
  - `func.bind()`
