자바스크립트란?
==============

### 정의
- 프로그래밍 언어
- 목적
  - '웹페이지에 생동감 불어넣기'

##### 스크립트
- JS 작성 프로그램
- 웹페이지
  - HTML 안에 작성
  - 로딩 시 자동 실행
- 특별한 준비 · 컴파일 X
  - 보통의 문자 형태 작성 가능
  - 실행 가능

<img class="icon" src="../../images/commons/icons/circle-exclamation-solid.svg" /> **자바스크립트 이름 유래**

##### 초기 JS
- 'LiveScript'
- 당시 자바 인기 高
  - 홍보 목적 이름 변경 <sub>(자바 '동생')</sub>
- 독자적 언어
  - 자바 연관 X
- 고유 명세
  - ECMAScript

<br />

##### 실행 환경
- 브라우저
- 서버
- JS 엔진 장착 디바이스

##### 브라우저
- 엔진 내장
  - 'JS 가상 머신'

##### 다양한 엔진 종류 <sub>(특유 코드 네임)</sub>
|엔진|브라우저|
|---|---|
|V8|Chrome|
||Opera|
|SpiderMonkey|Firefox|
|Trident · Chakra|IE <sub>(버전 따라 상이)</sub>|
|ChakraCore|Microsoft Edge|
|SquirrelFish|Safari|

- 개발 관련 글에서 종종 언급
  - 기억해두기

<img class="icon" src="../../images/commons/icons/circle-exclamation-solid.svg" /> **엔진 동작 방식**

##### 기본 원리
1. 엔진 <sub>(브라우저 : 내장 엔진)</sub>
    - 스크립트 읽음 <sub>(파싱)</sub>
2. 읽어 들인 스크립트
    - 기계어 전환 <sub>(컴파일)</sub>
3. 기계어 전환된 코드 실행
    - 실행 속도 빠름 <sub>(기계어 전환 때문)</sub>

##### 엔진
- 프로세스 각 단계마다 최적화 진행
- 컴파일 후 실행 중인 코드 감시
- 코드로 흘러가는 데이터 분석
- 기계어 전환된 코드 다시 최적화
  - 분석 결과 토대
- 위 과정 후
  - 스크립트 실행 속도 ↑

### 브라우저에서 할 수 있는 일

##### 모던 JS
- '안전한' 프로그래밍 언어
  - 저수준 영역 조작 허용 X
    - 메모리
    - CPU
    - 기타 등등
- 브라우저 대상 언어
  - 애초에 저수준 접근 필요 X

##### JS 능력
- 실행 환경에 상당한 영향 받음
- Node.js 환경
  - 임의 파일 읽기 · 쓰기
  - 네트워크 요청 수행 함수 지원
  - 기타 등등
- 브라우저 환경
  - 웹페이지 조작
  - 클라이언트 · 서버 상호작용 관련 작업
  - 기타 등등

##### 브라우저에서의 JS
- 페이지에 새로운 HTML 추가
- 기존 HTML · 스타일 수정
- 사용자 행동에 반응
  - 마우스 클릭
  - 포인터 움직임
  - 키보드 키 눌림
  - 기타 등등
- 네트워크 작업 <sub>(AJAX · COMET)</sub>
  - 원격 서버 요청 송신
  - 파일 다운로드
  - 업로드
  - 기타 등등
- 쿠키 가져오기 · 설정
- 사용자에게
  - 질문 물어보기
  - 메시지 보여주기
- 클라이언트 측에 데이터 저장
  - 로컬 스토리지

### 브라우저에서 할 수 없는 일

##### JS 기능에 제약 설정 <sub>(보안)</sub>
- 악성 웹페이지 방지
  - 개인 정보 접근
  - 사용자 데이터 손상

### 몇 가지 제약사항

#### 디스크 저장 임의 파일 관련 작업
- 읽기 · 쓰기 · 복사 · 실행 시 제약
- 운영체제 지원 기능
  - 브라우저 : 직접 쓰기 X

##### 모던 브라우저
- 파일 다루기 가능
- 접근 제한
- 특정 상황에만 접근 허용
  - 사용자 : 파일 '끌어다 두기'
  - `<input>` <sub>(태그)</sub> 통해 파일 선택
- 디바이스 상호 작용 <sub>(카메라 · 마이크 등)</sub>
  - 사용자 명시적인 허가 필요

#### 브라우저 내 탭 · 창 : 서로의 정보 알 수 없음

##### 예외
- 한 창에서 다른 창 열기

##### 예외 제약 <sub>(동일 출처 정책 · Same Origin Policy)</sub>
- 도메인 · 프로토콜 ·포트 상이 시
  - 페이지 접근 X

#####예{어; }
이런 제약사항을 '(Same Origin Policy)'이라 부릅니다. 이 정책을 피하려면 두 페이지는 데이터 교환에 동의해야 하고, 동의와 관련된 특수한 자바스크립트 코드를 포함하고 있어야 합니다. 자세한 사항은 추후 학습하도록 하겠습니다.

다시 한번 강조하지만, 이런 제약사항은 사용자의 보안을 위해 만들어졌습니다. http://anysite.com에서 받아온 페이지가 http://gmail.com에서 받아온 페이지 상의 정보에 접근해 중요한 개인정보를 훔치는 걸 막기 위함입니다.

##### 자바스크립트를 이용하면 페이지를 생성한 서버와 쉽게 정보를 주고받을 수 있습니다. 하지만 타 사이트나 도메인에서 데이터를 받아오는 건 불가능합니다. 가능하다 할지라도 원격 서버에서 명확히 승인을 해줘야 합니다(HTTP 헤더 등을 이용). 이 역시 보안을 위해 만들어진 제약사항입니다.

![limitations](../../images/01/01/01/limitations.svg)

- 브라우저 환경 밖, 예를 들어 서버라면 이러한 제약은 존재하지 않을 것입니다. 다만, 모던 브라우저에선 추가 권한 허가를 요청하는 플러그인이나 익스텐션 설치가 허용됩니다.

### 자바스크립트만의 강점
자바스크립트엔 다양한 장점이 있지만 여기선 세 가지만 언급해 보도록 하겠습니다.
- HTML/CSS와 완전히 통합할 수 있음
- 간단한 일은 간단하게 처리할 수 있게 해줌
- 모든 주요 브라우저에서 지원하고, 기본 언어로 사용됨

이 세 가지 모두를 지원하는 브라우저 연관 기술은 자바스크립트뿐입니다.

이런 특징 때문에 자바스크립트는 브라우저 인터페이스를 만들 때 가장 널리 사용되고 있습니다.

이 외에도 자바스크립트를 이용해 서버나 모바일 앱 등을 만드는 것도 가능합니다.

### 자바스크립트 ‘너머의’ 언어들
자바스크립트 문법은 모든 사람의 요구를 충족시키진 못합니다. 사람마다 각기 다른 기능을 원하기 때문이죠.

프로젝트마다 요구사항이 천차만별이기 때문에 이는 당연한 현상입니다.

이로 인해 근래엔 브라우저에서 실행 되기 전에 자바스크립트로 트랜스파일(transpile, 변환) 할 수 있는 새로운 언어들이 많이 등장했습니다.

최신 툴을 사용하면 트랜스파일을 빠르고 명확하게 수행할 수 있습니다. 최신도구는 자바스크립트 이외의 언어로 작성한 코드를 ‘보이지 않는 곳에서’ 자바스크립트로 자동 변환해줍니다.

자바스크립트로 트랜스파일이 가능한 언어 몇 가지를 소개해 드리겠습니다.
- CoffeeScript는 자바스크립트를 위한 'syntactic sugar’입니다. 짧은 문법을 도입하여 명료하고 이해하기 쉬운 코드를 작성할 수 있습니다. Ruby 개발자들이 좋아합니다.
- TypeScript는 개발을 단순화 하고 복잡한 시스템을 지원하려는 목적으로 '자료형의 명시화(strict data typing)'에 집중해 만든 언어입니다. Microsoft가 개발하였습니다.
- Flow 역시 자료형을 강제하는데, TypeScript와는 다른 방식을 사용합니다. Facebook이 개발하였습니다.
- Dart는 모바일 앱과 같이 브라우저가 아닌 환경에서 동작하는 고유의 엔진을 가진 독자적 언어입니다. Google이 개발하였습니다.

이 외에도 자바스크립트로 트랜스파일 할 수 있는 언어는 다양합니다. 개발 언어로 이런 언어 중 하나를 택한다고 하더라도 자신이 무엇을 하고 있는지 이해하려면 결국엔 자바스크립트를 알아야 합니다.
